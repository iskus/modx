<?php
$c=&$this->config;$c['settings_version']="1.4.4";$c['manager_theme']="default";$c['server_offset_time']="0";$c['manager_language']="russian-UTF8";$c['modx_charset']="UTF-8";$c['site_name']="My Evolution Site";$c['site_start']="1";$c['error_page']="7";$c['unauthorized_page']="4";$c['site_status']="1";$c['auto_template_logic']="parent";$c['default_template']="3";$c['old_template']="3";$c['publish_default']="1";$c['friendly_urls']="1";$c['friendly_alias_urls']="1";$c['use_alias_path']="1";$c['cache_type']="2";$c['failed_login_attempts']="3";$c['blocked_minutes']="60";$c['use_captcha']="1";$c['emailsender']="kvzmxr@rambler.ru";$c['use_editor']="1";$c['use_browser']="1";$c['fe_editor_lang']="russian-UTF8";$c['fck_editor_toolbar']="standard";$c['fck_editor_autolang']="0";$c['editor_css_path']="";$c['editor_css_selectors']="";$c['upload_maxsize']="10485760";$c['manager_layout']="4";$c['auto_menuindex']="1";$c['session.cookie.lifetime']="604800";$c['mail_check_timeperiod']="600";$c['manager_direction']="ltr";$c['xhtml_urls']="0";$c['automatic_alias']="1";$c['datetime_format']="dd-mm-YYYY";$c['warning_visibility']="0";$c['remember_last_tab']="1";$c['enable_bindings']="1";$c['seostrict']="1";$c['number_of_results']="30";$c['theme_refresher']="";$c['show_picker']="0";$c['show_newresource_btn']="0";$c['show_fullscreen_btn']="0";$c['email_sender_method']="1";$c['site_id']="5b5bb54638bb8";$c['site_unavailable_page']="";$c['reload_site_unavailable']="";$c['site_unavailable_message']="В настоящее время сайт недоступен.";$c['siteunavailable_message_default']="В настоящее время сайт недоступен.";$c['enable_filter']="0";$c['enable_at_syntax']="0";$c['cache_default']="1";$c['search_default']="1";$c['custom_contenttype']="application/rss+xml,application/pdf,application/vnd.ms-word,application/vnd.ms-excel,text/html,text/css,text/xml,text/javascript,text/plain,application/json";$c['docid_incrmnt_method']="0";$c['enable_cache']="1";$c['minifyphp_incache']="0";$c['server_protocol']="http";$c['rss_url_news']="http://feeds.feedburner.com/evocms-release-news";$c['track_visitors']="0";$c['friendly_url_prefix']="";$c['friendly_url_suffix']=".html";$c['make_folders']="0";$c['aliaslistingfolder']="0";$c['allow_duplicate_alias']="0";$c['use_udperms']="1";$c['udperms_allowroot']="0";$c['email_method']="mail";$c['smtp_auth']="0";$c['smtp_secure']="none";$c['smtp_host']="smtp.example.com";$c['smtp_port']="25";$c['smtp_username']="you@example.com";$c['reload_emailsubject']="";$c['emailsubject']="Данные для авторизации";$c['emailsubject_default']="Данные для авторизации";$c['reload_signupemail_message']="";$c['signupemail_message']="Здравствуйте, [+uid+]!\r\n\r\nВаши данные для авторизации в системе управления сайтом [+sname+]:\r\n\r\nИмя пользователя: [+uid+]\r\nПароль: [+pwd+]\r\n\r\nПосле успешной авторизации в системе управления сайтом ([+surl+]), вы сможете изменить свой пароль.\r\n\r\nС уважением, Администрация";$c['system_email_signup_default']="Здравствуйте, [+uid+]!\r\n\r\nВаши данные для авторизации в системе управления сайтом [+sname+]:\r\n\r\nИмя пользователя: [+uid+]\r\nПароль: [+pwd+]\r\n\r\nПосле успешной авторизации в системе управления сайтом ([+surl+]), вы сможете изменить свой пароль.\r\n\r\nС уважением, Администрация";$c['reload_websignupemail_message']="";$c['websignupemail_message']="Здравствуйте, [+uid+]!\r\n\r\nВаши данные для авторизации на [+sname+]:\r\n\r\nИмя пользователя: [+uid+]\r\nПароль: [+pwd+]\r\n\r\nПосле успешной авторизации на [+sname+] ([+surl+]), вы сможете изменить свой пароль.\r\n\r\nС уважением, Администрация";$c['system_email_websignup_default']="Здравствуйте, [+uid+]!\r\n\r\nВаши данные для авторизации на [+sname+]:\r\n\r\nИмя пользователя: [+uid+]\r\nПароль: [+pwd+]\r\n\r\nПосле успешной авторизации на [+sname+] ([+surl+]), вы сможете изменить свой пароль.\r\n\r\nС уважением, Администрация";$c['reload_system_email_webreminder_message']="";$c['webpwdreminder_message']="Здравствуйте, [+uid+]!\r\n\r\nЧтобы активировать ваш новый пароль, перейдите по следующей ссылке:\r\n\r\n[+surl+]\r\n\r\nПозже вы сможете использовать следующий пароль для авторизации: [+pwd+]\r\n\r\nЕсли это письмо пришло к вам по ошибке, пожалуйста, проигнорируйте его.\r\n\r\nС уважением, Администрация";$c['system_email_webreminder_default']="Здравствуйте, [+uid+]!\r\n\r\nЧтобы активировать ваш новый пароль, перейдите по следующей ссылке:\r\n\r\n[+surl+]\r\n\r\nПозже вы сможете использовать следующий пароль для авторизации: [+pwd+]\r\n\r\nЕсли это письмо пришло к вам по ошибке, пожалуйста, проигнорируйте его.\r\n\r\nС уважением, Администрация";$c['manager_theme_mode']="3";$c['login_logo']="";$c['login_bg']="";$c['login_form_position']="left";$c['manager_menu_position']="top";$c['tree_page_click']="27";$c['use_breadcrumbs']="0";$c['global_tabs']="1";$c['group_tvs']="0";$c['resource_tree_node_name']="pagetitle";$c['session_timeout']="15";$c['tree_show_protected']="0";$c['datepicker_offset']="-10";$c['number_of_logs']="100";$c['number_of_messages']="40";$c['which_editor']="TinyMCE4";$c['tinymce4_theme']="custom";$c['tinymce4_skin']="lightgray";$c['tinymce4_skintheme']="inlite";$c['tinymce4_template_docs']="";$c['tinymce4_template_chunks']="";$c['tinymce4_entermode']="p";$c['tinymce4_element_format']="xhtml";$c['tinymce4_schema']="html5";$c['tinymce4_custom_plugins']="advlist autolink lists link image charmap print preview hr anchor pagebreak searchreplace wordcount visualblocks visualchars code fullscreen spellchecker insertdatetime media nonbreaking save table contextmenu directionality emoticons template paste textcolor codesample colorpicker textpattern imagetools paste modxlink youtube";$c['tinymce4_custom_buttons1']="undo redo | cut copy paste | searchreplace | bold italic underline strikethrough | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent blockquote | styleselect";$c['tinymce4_custom_buttons2']="link unlink anchor image media codesample table | hr removeformat | subscript superscript charmap | nonbreaking | visualchars visualblocks print preview fullscreen code formatselect";$c['tinymce4_custom_buttons3']="";$c['tinymce4_custom_buttons4']="";$c['tinymce4_blockFormats']="Paragraph=p;Header 1=h1;Header 2=h2;Header 3=h3";$c['allow_eval']="with_scan";$c['safe_functions_at_eval']="time,date,strtotime,strftime";$c['check_files_onlogin']="index.php\r\n.htaccess\r\nmanager/index.php\r\nmanager/includes/config.inc.php";$c['validate_referer']="1";$c['rss_url_security']="http://feeds.feedburner.com/evocms-security-news";$c['error_reporting']="1";$c['send_errormail']="0";$c['pwd_hash_algo']="UNCRYPT";$c['reload_captcha_words']="";$c['captcha_words']="EVO,Access,Better,BitCode,Chunk,Cache,Desc,Design,Excell,Enjoy,URLs,TechView,Gerald,Griff,Humphrey,Holiday,Intel,Integration,Joystick,Join(),Oscope,Genetic,Light,Likeness,Marit,Maaike,Niche,Netherlands,Ordinance,Oscillo,Parser,Phusion,Query,Question,Regalia,Righteous,Snippet,Sentinel,Template,Thespian,Unity,Enterprise,Verily,Tattoo,Veri,Website,WideWeb,Yap,Yellow,Zebra,Zygote";$c['captcha_words_default']="EVO,Access,Better,BitCode,Chunk,Cache,Desc,Design,Excell,Enjoy,URLs,TechView,Gerald,Griff,Humphrey,Holiday,Intel,Integration,Joystick,Join(),Oscope,Genetic,Light,Likeness,Marit,Maaike,Niche,Netherlands,Ordinance,Oscillo,Parser,Phusion,Query,Question,Regalia,Righteous,Snippet,Sentinel,Template,Thespian,Unity,Enterprise,Verily,Tattoo,Veri,Website,WideWeb,Yap,Yellow,Zebra,Zygote";$c['filemanager_path']="/home/virtwww/w_kvzmxr-com-ua_34d3535b/http/";$c['upload_files']="bmp,ico,gif,jpeg,jpg,png,psd,tif,tiff,fla,flv,swf,aac,au,avi,css,cache,doc,docx,gz,gzip,htaccess,htm,html,js,mp3,mp4,mpeg,mpg,ods,odp,odt,pdf,ppt,pptx,rar,tar,tgz,txt,wav,wmv,xls,xlsx,xml,z,zip,JPG,JPEG,PNG,GIF,svg,tpl";$c['upload_images']="bmp,ico,gif,jpeg,jpg,png,psd,tif,tiff,svg";$c['upload_media']="au,avi,mp3,mp4,mpeg,mpg,wav,wmv";$c['upload_flash']="fla,flv,swf";$c['new_file_permissions']="0644";$c['new_folder_permissions']="0755";$c['which_browser']="mcpuk";$c['rb_webuser']="0";$c['rb_base_dir']="/home/virtwww/w_kvzmxr-com-ua_34d3535b/http/assets/";$c['rb_base_url']="assets/";$c['clean_uploaded_filename']="1";$c['strip_image_paths']="1";$c['maxImageWidth']="2600";$c['maxImageHeight']="2200";$c['thumbWidth']="150";$c['thumbHeight']="150";$c['thumbsDir']=".thumbs";$c['jpegQuality']="90";$c['denyZipDownload']="0";$c['denyExtensionRename']="0";$c['showHiddenFiles']="0";$c['lang_code']="ru";$c['sys_files_checksum']="a:4:{s:53:\"/home/virtwww/w_kvzmxr-com-ua_34d3535b/http/index.php\";s:32:\"afc3b9996d8c0245f3a0f4132d3abb6d\";s:53:\"/home/virtwww/w_kvzmxr-com-ua_34d3535b/http/.htaccess\";s:32:\"b12739e14a9d18d7090427db01bd4021\";s:61:\"/home/virtwww/w_kvzmxr-com-ua_34d3535b/http/manager/index.php\";s:32:\"98b280225df2b4e863b6385de9bb2126\";s:75:\"/home/virtwww/w_kvzmxr-com-ua_34d3535b/http/manager/includes/config.inc.php\";s:32:\"246eb037c31aac8e665f410238c92874\";}";$c['site_owner']="";$c['site_mail']="";$c['site_copyright']="";$c['company_name']="";$c['company_iva']="";$c['company_mail']="";$c['company_phone']="";$c['company_fax']="";$c['company_address']="";$c['chat_icq']="";$c['chat_msn']="";$c['social_facebook']="";$c['social_twitter']="";$c['social_googleplus']="";$c['social_youtube']="";$c['social_linkedin']="";$this->aliasListing=array();$a=&$this->aliasListing;$d=&$this->documentListing;$m=&$this->documentMap;$a[1]=array('id'=>1,'alias'=>'index','path'=>'','parent'=>0,'isfolder'=>0,'alias_visible'=>1);$d['index']=1;$m[]=array(0=>1);$a[2]=array('id'=>2,'alias'=>'blog','path'=>'','parent'=>0,'isfolder'=>1,'alias_visible'=>1);$d['blog']=2;$m[]=array(0=>2);$a[15]=array('id'=>15,'alias'=>'features','path'=>'','parent'=>0,'isfolder'=>1,'alias_visible'=>1);$d['features']=15;$m[]=array(0=>15);$a[33]=array('id'=>33,'alias'=>'getting-help','path'=>'','parent'=>0,'isfolder'=>0,'alias_visible'=>1);$d['getting-help']=33;$m[]=array(0=>33);$a[32]=array('id'=>32,'alias'=>'design','path'=>'','parent'=>0,'isfolder'=>0,'alias_visible'=>1);$d['design']=32;$m[]=array(0=>32);$a[6]=array('id'=>6,'alias'=>'contact-us','path'=>'','parent'=>0,'isfolder'=>0,'alias_visible'=>1);$d['contact-us']=6;$m[]=array(0=>6);$a[4]=array('id'=>4,'alias'=>'profile','path'=>'','parent'=>0,'isfolder'=>1,'alias_visible'=>0);$d['profile']=4;$m[]=array(0=>4);$a[8]=array('id'=>8,'alias'=>'search-results','path'=>'','parent'=>0,'isfolder'=>0,'alias_visible'=>1);$d['search-results']=8;$m[]=array(0=>8);$a[11]=array('id'=>11,'alias'=>'feed.rss','path'=>'','parent'=>0,'isfolder'=>0,'alias_visible'=>1);$d['feed.rss']=11;$m[]=array(0=>11);$a[7]=array('id'=>7,'alias'=>'doc-not-found','path'=>'','parent'=>0,'isfolder'=>0,'alias_visible'=>1);$d['doc-not-found']=7;$m[]=array(0=>7);$a[48]=array('id'=>48,'alias'=>'sitemap.xml','path'=>'','parent'=>0,'isfolder'=>0,'alias_visible'=>1);$d['sitemap.xml']=48;$m[]=array(0=>48);$a[9]=array('id'=>9,'alias'=>'article-1126081344','path'=>'blog','parent'=>2,'isfolder'=>0,'alias_visible'=>1);$d['blog/article-1126081344']=9;$m[]=array(2=>9);$a[18]=array('id'=>18,'alias'=>'article-1128398162','path'=>'blog','parent'=>2,'isfolder'=>0,'alias_visible'=>1);$d['blog/article-1128398162']=18;$m[]=array(2=>18);$a[47]=array('id'=>47,'alias'=>'new-documentation-site-docs.evo.im','path'=>'blog','parent'=>2,'isfolder'=>0,'alias_visible'=>1);$d['blog/new-documentation-site-docs.evo.im']=47;$m[]=array(2=>47);$a[49]=array('id'=>49,'alias'=>'editprofile','path'=>'','parent'=>4,'isfolder'=>0,'alias_visible'=>1);$d['editprofile']=49;$m[]=array(4=>49);$a[5]=array('id'=>5,'alias'=>'request-an-account','path'=>'','parent'=>4,'isfolder'=>0,'alias_visible'=>1);$d['request-an-account']=5;$m[]=array(4=>5);$a[37]=array('id'=>37,'alias'=>'forgot-password','path'=>'','parent'=>4,'isfolder'=>0,'alias_visible'=>1);$d['forgot-password']=37;$m[]=array(4=>37);$a[16]=array('id'=>16,'alias'=>'ajax','path'=>'features','parent'=>15,'isfolder'=>0,'alias_visible'=>1);$d['features/ajax']=16;$m[]=array(15=>16);$a[22]=array('id'=>22,'alias'=>'menus','path'=>'features','parent'=>15,'isfolder'=>0,'alias_visible'=>1);$d['features/menus']=22;$m[]=array(15=>22);$a[14]=array('id'=>14,'alias'=>'cms','path'=>'features','parent'=>15,'isfolder'=>0,'alias_visible'=>1);$d['features/cms']=14;$m[]=array(15=>14);$a[24]=array('id'=>24,'alias'=>'extendable','path'=>'features','parent'=>15,'isfolder'=>0,'alias_visible'=>1);$d['features/extendable']=24;$m[]=array(15=>24);$c=&$this->contentTypes;$c['11']='application/rss+xml';$c['48']='text/xml';$c=&$this->chunkCache;$c['mm_rules']='// more example rules are in assets/plugins/managermanager/example_mm_rules.inc.php
// example of how PHP is allowed - check that a TV named documentTags exists before creating rule

if ($modx->db->getValue($modx->db->select(\'count(id)\', $modx->getFullTableName(\'site_tmplvars\'), "name=\'documentTags\'"))) {
	mm_widget_tags(\'documentTags\', \' \'); // Give blog tag editing capabilities to the \'documentTags (3)\' TV
}
mm_widget_showimagetvs(); // Always give a preview of Image TVs

mm_createTab(\'SEO\', \'seo\', \'\', \'\', \'\', \'\');
mm_moveFieldsToTab(\'titl,keyw,desc,seoOverride,noIndex,sitemap_changefreq,sitemap_priority,sitemap_exclude\', \'seo\', \'\', \'\');
mm_widget_tags(\'keyw\',\',\'); // Give blog tag editing capabilities to the \'documentTags (3)\' TV


//mm_createTab(\'Images\', \'photos\', \'\', \'\', \'\', \'850\');
//mm_moveFieldsToTab(\'images,photos\', \'photos\', \'\', \'\');

//mm_hideFields(\'longtitle,description,link_attributes,menutitle,content\', \'\', \'6,7\');

//mm_hideTemplates(\'0,5,8,9,11,12\', \'2,3\');

//mm_hideTabs(\'settings, access\', \'2\');
';$c['header']='<meta http-equiv="Content-Type" content="text/html; charset=[(modx_charset)]" /> 
<title>[*titl*]</title>
[*noIndex*]
<meta name="keywords" content="[*keyw*]" />
<meta name="description" content="[*desc*]" />
<base href="[(site_url)]"/>
';$c['AjaxSearch_tplInput']='[+as.showInputForm:is=`1`:then=`
<form id="[+as.formId+]" action="[+as.formAction+]" method="post">
    [+as.showAsId:is=`1`:then=`<input type="hidden" name="[+as.asName+]" value="[+as.asId+]" />`+]
    <input type="hidden" name="advsearch" value="[+as.advSearch+]" />
	<div class="input-group">
		<input id="[+as.inputId+]" class="form-control cleardefault" type="text" name="search" value="[+as.inputValue+]"[+as.inputOptions+] />
		[+as.liveSearch:is=`0`:then=`
		<span class="input-group-btn">
			<button class="btn btn-primary" type="submit"><i class="fa fa-search"></i></button>	
		</span>
		`:else=`
		<div class="input-group-addon"><i class="fa fa-search"></i></div>
		`+]		
	</div>
</form>
`+]
[+as.showIntro:is=`1`:then=`
<p class="ajaxSearch_intro" id="ajaxSearch_intro">[+as.introMessage+]</p>
`+]';$c['AjaxSearch_tplAjaxResult']='<div class="[+as.resultClass+]">
  <strong><a class="[+as.resultLinkClass+]" href="[+as.resultLink+]" title="[+as.longtitle+]">[+as.pagetitle+]</a></strong>
[+as.descriptionShow:is=`1`:then=`
  <small><span class="[+as.descriptionClass+]">[+as.description+]</span></small>
`+]
[+as.extractShow:is=`1`:then=`
  <div class="[+as.extractClass+]"><p>[+as.extract+]</p></div>
`+]
[+as.breadcrumbsShow:is=`1`:then=`
  <span class="[+as.breadcrumbsClass+]">[+as.breadcrumbs+]</span>
`+]
</div>';$c['AjaxSearch_tplAjaxGrpResult']='[+as.grpResultsDef:is=`1`:then=`
<div id="[+as.grpResultId+]" class="AS_ajax_grpResult">
[+as.headerGrpResult+]
[+as.listResults+]
[+as.footerGrpResult+]
</div>
`:else=`
<div class="AS_ajax_grpResultName">[+as.grpResultNameShow:is=`1`:then=`[+as.grpResultName+]`+]
<span class="ajaxSearch_grpResultsDisplayed">[+as.grpResultsDisplayedText+]</span></div>
`+]';$c['AjaxSearch_tplAjaxResults']='<div id="search_results" class="modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h3 class="modal-title">Search Results</h3>
      </div>
      <div class="modal-body">
        [+as.noResults:is=`1`:then=`
		  <div class="[+as.noResultClass+]">
			[+as.noResultText+]
		  </div>
		`:else=`
		<p class="AS_ajax_resultsInfos">[+as.resultsFoundText+]<span class="AS_ajax_resultsDisplayed">[+as.resultsDisplayedText+]</span></p>
		[+as.listGrpResults+]
		`+]
		[+as.moreResults:is=`1`:then=`
		  <div class="[+as.moreClass+]">
			<a href="[+as.moreLink+]" title="[+as.moreTitle+]">[+as.moreText+]</a>
		  </div>
		`+]
		[+as.showCmt:is=`1`:then=`
		[+as.comment+]
		`+]
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
<script>$(\'#search_results\').modal(\'show\')</script>';$c['Comments_tplForm']='<a name="jf[+jot.link.id+]"></a>
<h2>[+form.edit:is=`1`:then=`Edit comment`:else=`Write a comment`+]</h2>
<div class="jot-list">
<ul>
	<li>Required fields are marked with <b>*</b>.</li>
</ul>
</div>
[+form.error:isnt=`0`:then=`
<div class="jot-err">
[+form.error:select=`
&-3=You are trying to re-submit the same post. You have probably clicked the submit button more than once.
&-2=Your comment has been rejected.
&-1=Your comment has been saved, it will first be reviewed before it is published.
&1=You are trying to re-submit the same post. You have probably clicked the submit button more than once.
&2=The security code you entered was incorrect.
&3=You can only post once each [+jot.postdelay+] seconds.
&4=Your comment has been rejected.
&5=[+form.errormsg:ifempty=`You didn\'t enter all the required fields`+]
`+]
</div>
`:strip+]
[+form.confirm:isnt=`0`:then=`
<div class="jot-cfm">
[+form.confirm:select=`
&1=Your comment has been published.
&2=Your comment has been saved, it will first be reviewed before it is published.
&3=Comment saved.
`+]
</div>
`:strip+]
<form method="post" action="[+form.action:esc+]#jf[+jot.link.id+]" class="jot-form">
	<fieldset>
	<input name="JotForm" type="hidden" value="[+jot.id+]" />
	<input name="JotNow" type="hidden" value="[+jot.seed+]" />
	<input name="parent" type="hidden" value="[+form.field.parent+]" />
	
	[+form.moderation:is=`1`:then=`
		<div class="jot-row">
			<b>Created on:</b> [+form.field.createdon:date=`%a %B %d, %Y at %H:%M`+]<br />
			<b>Created by:</b> [+form.field.createdby:userinfo=`username`:ifempty=`[+jot.guestname+]`+]<br />
			<b>IP address:</b> [+form.field.secip+]<br />
			<b>Published:</b> [+form.field.published:select=`0=No&1=Yes`+]<br />
			[+form.field.publishedon:gt=`0`:then=`
				<b>Published on:</b> [+form.field.publishedon:date=`%a %B %d, %Y at %H:%M`+]<br />
				<b>Published by:</b> [+form.field.publishedby:userinfo=`username`:ifempty=` - `+]<br />
			`+]
			[+form.field.editedon:gt=`0`:then=`
				<b>Edited on:</b> [+form.field.editedon:date=`%a %B %d, %Y at %H:%M`+]<br />
				<b>Edited by:</b> [+form.field.editedby:userinfo=`username`:ifempty=` -`+]<br />
			`+]
		</div>
	`:strip+]
	
	[+form.guest:is=`1`:then=`
		<div class="form-group">
			<label for="name[+jot.id+]">Name:</label>
			<input tabindex="[+jot.seed:math=`?+1`+]" name="name" class="form-control" type="text" size="40" value="[+form.field.custom.name:esc+]" id="name[+jot.id+]" />
		</div>
		<div class="form-group">
			<label for="email[+jot.id+]">Email:</label>
			<input tabindex="[+jot.seed:math=`?+2`+]" name="email" class="form-control" type="text" size="40" value="[+form.field.custom.email:esc+]" id="email[+jot.id+]"/>
		</div>
	`:strip+]
	<div class="form-group">
		<label for="title[+jot.id+]">Subject:</label>
		<input tabindex="[+jot.seed:math=`?+3`+]" name="title" class="form-control" type="text" size="40" value="[+form.field.title:esc+]" id="title[+jot.id+]"/>
	</div>
	<div class="form-group">
		<label for="content[+jot.id+]">Comment: *</label>
		<textarea tabindex="[+jot.seed:math=`?+4`+]" name="content" class="form-control" rows="8" id="content[+jot.id+]">[+form.field.content:esc+]</textarea>
	</div>
	
[+jot.captcha:is=`1`:then=`
	<div style="width:150px;margin-top: 5px;margin-bottom: 5px;">
		<a href="[+jot.link.current:esc+]">
			<img src="[(modx_manager_url)]includes/veriword.php?rand=[+jot.seed+]" width="148" height="60" alt="If you have trouble reading the code, click on the code itself to generate a new random code." style="border: 1px solid #003399" />
		</a>
	</div>
	<div class="form-group">
		<label for="vericode[+jot.id+]">Help prevent spam - enter security code above:</label>
		<input type="text" name="vericode" style="width:150px;" size="20" id="vericode[+jot.id+]" />
	</div>
`:strip+]

	<input tabindex="[+jot.seed:math=`?+5`+]" name="submit" class="btn btn-primary" type="submit" value="[+form.edit:is=`1`:then=`Save Comment`:else=`Post Comment`+]" />
	[+form.edit:is=`1`:then=`
		<input tabindex="[+jot.seed:math=`?+5`+]" name="submit" class="btn btn-default" type="submit" value="Cancel" onclick="history.go(-1);return false;" />
	`+] 
	</fieldset>
</form>';$c['Comments']='<div id="commentsAnchor">
[[ifsnippet? &name=`JotX`]]	
[!JotX? &customfields=`name,email` &subscribe=`1` &pagination=`4` &badwords=`dotNet` &canmoderate=`Site Admins` &tplForm=`Comments_tplForm` &tplComments=`Comments_tplComments`!]
</div>';$c['ContactForm']='<form id="EmailForm">
	<input type="hidden" name="formid" value="ContactForm">
	<p>[+form.messages+]</p>
	<div class="form-group [+name.classname+]">
		<label for="cfName">Your name:</label>
		<input type="text" class="form-control" name="name" id="cfName" value="[+name.value+]" placeholder="Your Name"/>
		<div class="invalid-feedback">[+name.error+]</div>
	</div>
	<div class="form-group [+email.classname+]">
		<label for="cfEmail">Your Email Address:</label>
		<input type="text" class="form-control" name="email" id="cfEmail" value="[+email.value+]" placeholder="Email Address"/>
		<div class="invalid-feedback">[+email.error+]</div>
	</div>
	
	<div class="form-group [+subject.classname+]">
		<label for="cfRegarding">Regarding:</label>
		<select class="form-control" name="subject" id="cfRegarding">
			<option value="General Inquiries" [+s.subject.General Inquiries+] >General Inquiries</option>
			<option value="Press" [+s.subject.Press+] >Press or Interview Request</option>
			<option value="Partnering" [+s.subject.Partnering+] >Partnering Opportunities</option>
		</select>
		<div class="invalid-feedback">[+subject.error+]</div>
	</div>
	
	<div class="form-group [+message.classname+]">
		<label for="cfMessage">Message:</label>
		<textarea name="message" id="cfMessage" class="form-control">[+message.value+]</textarea>
		<div class="invalid-feedback">[+message.error+]</div>
	</div>
	
	<div class="form-group">
		<input type="submit" name="contact" id="submit" class="btn btn-primary" value="Send This Message" />
	</div>

</form>';$c['ContactFormReport']='<p>This is a response sent by <b>[+name+]</b> using the feedback form on the website. The details of the message follow below:</p>


<p>Name: [+name+]</p>
<p>Email: [+email+]</p>
<p>Regarding: [+subject+]</p>
<p>comments:<br />[+message+]</p>

<p>You can use this link to reply: <a href="mailto:[+email+]?subject=RE: [+subject+]">[+email+]</a></p>
';$c['Shop_UserForm']='[+validationmessage+]
<fieldset style="background:#E8E9EA">
<form method="post" action="[~[*id*]~]">
<input type="hidden" name="formid" value="TSVCheckoutForm" />
<p><b>Для завершения укажите некоторые данные:</b></p>
<table>
<tr>
<td width="150">Контактное лицо / Предприятие: </td>
<td width="1%">*</td>
<td><input type="text" name="fio" id="b_first" maxlength="75" size="37" class="text" value="[+shop.basket.fullname+]" eform="Контактное лицо / Предприятие:string:1" /></td>
</tr>
<tr>
<td>Город: </td>
<td width="1%"> </td>
<td><input type="text" name="city" id="b_city" maxlength="50" size="37" class="text" value="" /></td>
</tr>
<tr>
<td>Адрес доставки: </td>
<td width="1%">*</td>
<td><input type="text" name="adress" id="b_addr" maxlength="75" size="37" class="text" value="" eform="Адрес доставки:string:1" /></td>
</tr>
<tr>
<td>Телефон для связи: </td>
<td width="1%">*</td>
<td><input type="text" name="phone" id="b_phone" maxlength="50" size="37" class="text" value="[+shop.basket.phone+]" eform="Телефон для связи::1" /></td>
</tr>
<tr>
<td>E-mail</td>
<td width="1%">*</td>
<td><input type="text" name="email" id="b_email" maxlength="30" size="37" class="text" value="[+shop.basket.email+]" eform="E-mail:email:1"/></td>
</tr>
<!--payments-->
<tr>
<td valign="top">Метод оплаты: </td>
<td width="1%"> </td>
<td>[+shop.basket.fpayments+]</td>
</tr>
<!--/payments-->
<!--discount-->	
<tr>
<td valign="top">Дисконтная карта: </td>
<td width="1%"> </td>
<td>[+shop.basket.fdiscount+]</td>
</tr>
<!--/discount-->
<!--sertificats-->	
<tr>
<td valign="top">Подарочный сертификат: </td>
<td width="1%"> </td>
<td>[+shop.basket.fsertificats+]</td>
</tr>
<!--/sertificats-->
<!--shipping-->
<tr>
<td valign="top">Метод доставки: </td>
<td width="1%"> </td>
<td>[+shop.basket.fshipping+]</td>
</tr>
<!--/shipping-->

<tr>
<td valign="top">Комментарии: </td>
<td width="1%"> </td>
<td><textarea id="comment" name="comments" rows="6" cols="36"></textarea></td>
</tr>

<tr>
<td></td>
<td width="1%"> </td>
<td><input type="submit" value="Подтвердить заказ" /></td>
</tr></table>
</form>
</fieldset>
';$c['Shop_Checkout']='<table class="tsvshop">

<thead>
<tr>
<th>Фото</th>
<th>Наименование товара</th>
<th>Кол-во</th>
<th class="ralign">Цена</th>
<th class="ralign">Итого</th>
<th></th>
</tr>
</thead>
<tbody>

<!--noempty-->
<tr>
<td class="icon"><img src="[+shop.basket.iconpath+]" alt="[+shop.basket.name+]" width="50" /></td>
<td class="name"><a href="[+shop.basket.link+]">[+shop.basket.name+]</a><i>[+shop.basket.details+]</i></td>
<td class="qty">[+shop.basket.quantity+]</td>
<td class="price">[+shop.basket.price+] [+shop.basket.monetary+]</td>
<td class="price">[+shop.basket.summa+] [+shop.basket.monetary+]</td>
<td class="del"><a href="#" title="Удалить" [+shop.basket.delatributs+]><img src="/assets/templates/demoshop/img/del.png" /></a></td>
</tr>
<!--/noempty-->

<!--subtotal-->
<tr class="subtotal">
<td colspan="4"><b>Сумма:</b></td>
<td colspan="1">[+shop.basket.subtotal+] [+shop.basket.monetary+]</td>
<td></td>
</tr>
<!--/subtotal-->
<!--discount-->
<tr class="subtotal">
<td colspan="3"></td>
<td colspan="1">Скидка <b>[+shop.basket.discount+]</b> %</td>
<td colspan="1">- [+shop.basket.discountsize+] [+shop.basket.monetary+]</td>
<td></td>
</tr>
<!--/discount-->
<!--shipping-->
<tr class="subtotal">
<td colspan="4"><b>Доставка:</b></td>
<td colspan="1">[+shop.basket.shipping+] [+shop.basket.monetary+]</td>
<td></td>
</tr>
<!--/shipping-->
<!--tax-->
<tr class="subtotal">
<td colspan="4"><b>Налог:</b></td>
<td colspan="1">[+shop.basket.tax+] [+shop.basket.monetary+]</td>
<td></td>
</tr>
<!--/tax-->
<!--sertificats-->
<tr class="subtotal">
<td colspan="4"><b>Оплата подарочным сертификатом [+shop.basket.sertificatnum+]:</b></td>
<td colspan="1">[+shop.basket.sertificatsum+] [+shop.basket.monetary+]</td>
<td></td>
</tr>
<!--/sertificats-->
<!--total-->
<tr class="total">
<td colspan="4"><b>К оплате:</b></td>
<td colspan="1">[+shop.basket.topay+] [+shop.basket.monetary+]</td>
<td></td>
</tr>
<!--/total-->
</tbody>
</table>



';$c['Shop_mail_admin']='Был получен новый заказ. Подробности этого заказа предоставлены ниже.<br /><br />

Дата заказа: [+shop.mail.dateorder+]<br />
Номер счета: <b>[+shop.mail.numorder+]</b><br />
<br />
-------- <br />
Данные заказчика: <br />
Полное наименование организации: [+shop.mail.fio+] <br />
Город: [+shop.mail.city+] <br />
Тип доставки: [+shop.mail.shiptype+] <br />
Дисконт: Карта [+shop.mail.discountcard+] ([+shop.mail.discount+]%) <br />
Адрес доставки: [+shop.mail.adress+] <br />
Телефон для связи: [+shop.mail.phone+] <br />
E-mail: [+shop.mail.email+] <br />

-------- <br />
 <br />
 <br />
-------- <br />
Комментарии к заказу: <br />
[+shop.mail.comments+]<br />
--------- <br />

<table border="1" width="100%"><tr><th>Артикул</th><th>Название товара</th><th>Кол-во</th><th>Цена</th></tr>
<!--table-->
<tr><td>[+shop.mail.articul+]</td><td><a href="[+shop.mail.link+]" />[+shop.mail.name+]</a></td><td>[+shop.mail.quantity+]</td><td>[+shop.mail.price+] [+shop.mail.monetary+]</td></tr>
<!--/table-->
<tr><td colspan="3">ПОДИТОГ:</td><td colspan="1">[+shop.mail.subtotal+] [+shop.mail.monetary+]</td></tr>
<tr><td colspan="3">ОТГРУЗКА:</td><td colspan="1">[+shop.mail.shipping+] [+shop.mail.monetary+]</td></tr>
<tr><td colspan="3">СКИДКА:</td><td colspan="1">[+shop.mail.discountsize+] [+shop.mail.monetary+]</td></tr>
<tr><td colspan="3">ВСЕГО:</td><td colspan="1">[+shop.mail.total+] [+shop.mail.monetary+]</td></tr>
</table>
<br />


';$c['Shop_Cart_Empty']='<center><b>Корзина пуста</b></center>';$c['Shop_mail_klient']='Здравствуйте, [+shop.mail.fio+]<br />
Ваш заказ был успешно сформирован и отправлен. В самое ближайшее время менеджер свяжется с Вами.<br /><br />
Внимание! Если Вы будете звонить менеджеру по поводу этого заказа, указывайте, пожалуйста, номер этого заказа: - <b>[+shop.mail.numorder+]</b><br /><br />

-------- <br />
Ваш заказ:
--------- <br />

<table border="1" width="100%"><tr><th>Артикул</th><th>Название товара</th><th>Кол-во</th><th>Цена</th></tr>
<!--table-->
<tr><td>[+shop.mail.articul+]</td><td><a href="[+shop.mail.link+]" />[+shop.mail.name+]</a></td><td>[+shop.mail.quantity+]</td><td>[+shop.mail.price+] [+shop.mail.monetary+]</td></tr>
<!--/table-->
<tr><td colspan="3">ПОДИТОГ:</td><td colspan="1">[+shop.mail.subtotal+] [+shop.mail.monetary+]</td></tr>
<tr><td colspan="3">ОТГРУЗКА:</td><td colspan="1">[+shop.mail.shipping+] [+shop.mail.monetary+]</td></tr>
<tr><td colspan="3">СКИДКА:</td><td colspan="1">[+shop.mail.discountsize+] [+shop.mail.monetary+]</td></tr>
<tr><td colspan="3">ВСЕГО:</td><td colspan="1">[+shop.mail.total+] [+shop.mail.monetary+]</td></tr>
</table>
<br />

';$c['Shop_PrintOrder']='<table border="0" cellpadding="2" cellspacing="0" style="width: 100%;">
<tbody>
<tr>
<td align="left">
    <p><medium><b>Магазин такой-то</b><br /><b>Адрес:</b> такой-то &nbsp;<br /><b>Телефон:</b> 000-00-00&nbsp;<b>Сайт:</b> site.com</medium></p>
</td>
<td align="right">Logo</td>
</tr>
</tbody>
</table><br />
 
<table border="0" cellpadding="4" cellspacing="4">
<tbody>
<tr>
<td height="3" style="border: 1pt solid #000000;" align="left"><b>Заказчик:</b></td>
<td height="3" style="border: 1pt solid #000000;" align="left">[+shop.order.fio+]</td>
</tr>
<tr>
<td height="3" style="border: 1pt solid #000000;" align="left"><b>Дата заказа:</b></td>
<td height="3" style="border: 1pt solid #000000;" align="left">[+shop.order.datecreate+]</td>
</tr>
<tr>
<td height="3" style="border: 1pt solid #000000;" align="left"><b>Адрес:</b></td>
<td height="3" style="border: 1pt solid #000000;" align="left">[+shop.order.city+], [+shop.order.adress+]</td>
</tr>    
<tr>
<td height="3" style="border: 1pt solid #000000;" align="left"><b>Телефон:</b></td>
<td height="3" style="border: 1pt solid #000000;" align="left">[+shop.order.phone+]</td>
</tr>
<tr>
<td height="3" style="border: 1pt solid #000000;" align="left"><b>Метод оплаты:</b></td>
<td height="3" style="border: 1pt solid #000000;" align="left">[+shop.order.payments+]</td>
</tr>    
<tr>
<td height="3" style="border: 1pt solid #000000;" align="left"><b>Метод доставки:</b></td>
<td height="3" style="border: 1pt solid #000000;" align="left">[+shop.order.shiptype+]</td>
</tr>    
</tbody>
</table>    
 
<h2><center><b>Товарно-кассовый чек N:</b>&nbsp; [+shop.order.numorder+] от [+shop.order.datecreate+]</center></h2>
 
<table border="0" cellpadding="4" cellspacing="4" width="100%">
<tbody>
<tr bgcolor="#E2E2E2">
<td colspan="2" style="border: 1pt solid #000000; border-right:1;" align="center"><b>№</b></td>
<td colspan="4" style="border: 1pt solid #000000; border-right:1;" align="center"><b>Арт.</b></td>
<td colspan="17" style="border: 1pt solid #000000; border-right:1;" align="center"><b>Наименование товара</b></td>
<td colspan="3" style="border: 1pt solid #000000; border-right:1;" align="center"><b>Кол-во</b></td>
<td colspan="4" style="border: 1pt solid #000000; border-right:1;" align="center"><b>Цена</b></td>
<td colspan="5" style="border: 1pt solid #000000; border-right:1;" align="center"><b>Сумма</b></td>
 
</tr>
<!--table-->
<tr>
<td colspan="2" style="border: 1pt solid #000000; border-right:1;" align="center">[+shop.order.num+]</td>
<td colspan="4" style="border: 1pt solid #000000; border-right:1;" align="center">[+shop.order.id+]</td>
<td colspan="17" style="border: 1pt solid #000000; border-right:1;" align="left">[+shop.order.name+]</td>
<td colspan="3" style="border: 1pt solid #000000; border-right:1;" align="center">[+shop.order.qty+]</td>
<td colspan="4" style="border: 1pt solid #000000; border-right:1;" align="center">[+shop.order.price+] руб.</td>
<td colspan="5" style="border: 1pt solid #000000; border-right:1;" align="center">[+shop.order.summa+] руб.</td>
</tr>
<!--/table-->
<tr>
    <td colspan="30" style="border: 1pt solid #000000; border-right:1; border-top:1;" align="right" bgcolor="#ffffff"><b>Скидка по дисконтной карте или промокоду: </b>&nbsp; [+shop.order.discount+]% </td>
    <td colspan="5" style="border: 1pt solid #000000; border-right:1;" align="center">[+shop.order.discountsize+] руб.</td>
</tr>
<tr>
    <td colspan="30" style="border: 1pt solid #000000; border-right:1; border-top:1;" align="right" bgcolor="#ffffff"><b>Доставка: </b>&nbsp; [+shop.order.shiptype+]</td>
    <td colspan="5" style="border: 1pt solid #000000; border-right:1;" align="center">[+shop.order.shipping+] руб.</td>
</tr>    
<tr bgcolor="#E2E2E2">
    <td bgcolor="#E2E2E2" colspan="30" style="border: 1pt solid #000000; border-right:1; border-top:1;" align="right" bgcolor="#ffffff"><b>Итого к оплате:</b>&nbsp; [+shop.order.total_propis+]</td>
    <td bgcolor="#E2E2E2" colspan="5" style="border: 1pt solid #000000; border-right:1;" align="center"><b>[+shop.order.total+] руб.</b></td>
</tr>
</tbody>
</table>
<b>Количество товара:</b>&nbsp;[+shop.order.count+]&nbsp;шт.<br />
<span size="10" style="font-size: medium;">С внешним видом содержимого заказа ознакомлен(а). Количество проверено. Претензий не имею.</span><br />
<span size="5" style="font-size: medium;">Товар надлежащего качества возвращаем в течение 14 дней с момента покупки при условии сохранения товарного вида и потребительских свойств</span><br /><br />
Дата покупки ____________________&nbsp;
<br />
Подпись покупателя ____________________&nbsp;<br /><br /


';$c['Shop_UpdateOrder']='<p>Уважаемый [+shop.order.fio+]</p>
<p>Статус заказа №[+shop.order.numorder+], сделанного Вами [+shop.order.dateorder+], был изменена на [+shop.order.status+]</p>
<p>С уважением, администрация сайта [+shop.order.sitename+]</p>';$c['weblogin']='<!-- #declare:separator <hr> --> 
<!-- login form section-->
<fieldset>
<form method="post" name="loginfrm" action="[+action+]" style="margin: 0px; padding: 0px;"> 
<h4>Вход для клиентов</h4> <p><small>Важно: маленькие и большие буквы различаются</small></p>
<input type="hidden" value="[+rememberme+]" name="rememberme" /> 
<table>
<tr>
<td width="115">Логин: </td><td><input type="text" name="username" tabindex="2" onkeypress="return webLoginEnter(document.loginfrm.password);" class="text" value="[+username+]" onfocus="this.value=(this.value==\'Логин\')? \'\' : this.value ;"  /> </td>
</tr>
<tr>
<td>Пароль: </td><td><input type="password" name="password" tabindex="3" onkeypress="return webLoginEnter(document.loginfrm.cmdweblogin);" class="text" value="Пароль" onfocus="this.value=(this.value==\'Пароль\')? \'\' : this.value ;" /></td>
</tr>
<tr>
<td colspan="2" style="text-align:right">
 <label for="chkbox" style="cursor:pointer">Запомнить меня:&nbsp; </label> <input type="checkbox" id="chkbox" name="chkbox" tabindex="4" size="1" value="" [+checkbox+] onClick="webLoginCheckRemember()" />&nbsp;&nbsp;<input type="submit" class="submit" name="cmdweblogin" value="Войти" />

</td>
</tr>

<tr>
<td colspan="2">
<a href="#" onclick="webLoginShowForm(2);return false;"><small>Забыли пароль?</small></a> 
</td>
</tr>
</table>
		</form>
</fieldset>
<hr>
<!-- log out hyperlink section -->
<a href=\'[+action+]\'>[+logouttext+]</a><br />
<a href=\'[~15~]\'>Редактирование профиля</a>
<hr>
<!-- Password reminder form section -->
<fieldset>
<b>Напоминание забытого пароля</b><br />
<form name="loginreminder" method="post" action="[+action+]">
<input type="hidden" name="txtpwdrem" value="0" />
<p>Введите Ваш email адрес для восстановления пароля:</p>
<input type="text" class="text" name="txtwebemail" /><br />
<input type="submit" class="submit" value="Напомнить" name="cmdweblogin" /> 
<input type="reset" class="submit" value="Отмена" name="cmdcancel" onclick="webLoginShowForm(1);" />
</form>
</fieldset>';$c['Shop_Infoblock']='<!--full-->
<table class="fullinfo">
<!--table-->
<tr><td class="icon"><img src="[+shop.info.iconpath+]" width="47"></td><td class="name"><div><a href="[+shop.info.link+]">[+shop.info.name+]</a><i>[+shop.info.details+]</i></div></td><td class="del"><a href="#" [+shop.info.delatributs+]><img src="/assets/templates/demoshop/img/del.png"></a></td></tr>
<!--/table-->
</table>
<!-- <div><a class="left" href="[+shop.info.selfurl+]&a=clear">Очистить</a> <a class="button right" href="[+shop.info.carturl+]">В корзину</a></div> -->
<div><form class="left" method="get" id="basketClearLink"><input name="a" value="clear" type="hidden"/><a href="javascript:void(0);" onClick="getId(\'basketClearLink\').submit();">Очистить</a></form> <a class="button right" href="[+shop.info.carturl+]">В корзину</a></div>
<div class="clear"></div>
<!--/full-->

<!--empty-->
<p>[+shop.info.sempty+]</p>
<!--/empty-->

';$c['Shop_FinishText']='<div class="success">Поздравляем! Заказ успешно сформирован и отправлен. Через несколько минут вы получите электронное письмо с подтверждением вашего заказа и счетом. Если у вас есть какие-либо вопросы или проблемы, пишите нам на [+shop.youremail+]</div>

<div class="notice">Внимание! Если Вы будете писать или звонить менеджеру по поводу этого заказа, указывайте номер заказа - <b>[+shop.numorder+]</b>
</div>
<p>[+shop.paylink+]</p>


';$c['formsignup']='<!-- #declare:separator <hr> --> 
<!-- login form section-->
<p>Если вы еще не зарегистрированы, то можете сделать это, заполнив нижеприведенную форму.</p>
<form method="post" name="websignupfrm" action="[+action+]">
<fieldset>
<h4>Регистрация пользователя</h4> <p><small>Ячейки помеченые <span class="orange">*</span> обязательны для заполнения</small></p>
<table>
<tr>
<td width="110">Логин</td>
<td width="5"><span class="orange">*</span></td>
<td><input type="text" class="text" name="username" id="username" size="20" maxlength="30" value="[+username+]" /></td>
</tr>
<tr>
<td>Ф.И.О</td>
<td><span class="orange"></span></td>
<td><input type="text" class="text" name="fullname" id="fullname" size="20" maxlength="100" value="[+fullname+]" /></td>
</tr>

<tr>
<td>Телефон</td>
<td><span class="orange"></span></td>
<td><input type="text" class="text" name="phone" id="phone" size="20" maxlength="100" value="[+phone+]" /></td>
</tr>
<tr>
<td>Пароль</td>
<td><span class="orange">*</span></td>
<td><input type="password" name="password" class="text" id="password" size="20" /></td>
</tr>
<tr>
<td>Пароль</td>
<td><span class="orange">*</span></td>
<td><input type="password" class="text" name="confirmpassword" id="confirmpassword" size="20" /></td>
</tr>

<tr>
<td>E-mail</td>
<td width="5"><span class="orange">*</span></td>
<td><input type="text" name="email" class="text" id="email" size="20" value="[+email+]" /></td>
</tr>

<tr>
<td>Код проверки</td>
<td><span class="orange">*</span></td>
<td><a href="[+action+]"><img align="top" src="[+manager_folder+]/includes/veriword.php" style="border: 1px solid rgb(187, 187, 187); width="148" height="60" alt="Если емть проблемы с отображением кода, кликните по нему для генерации нового кода." style="border: 1px solid #039" /></a></td>
</tr>

<tr>
<td>Введите код</td>
<td><span class="orange">*</span></td>
<td><input class="text" type="text" name="formcode" class="text" size="20" /></td>
</tr>

<tr>
<td> </td>
<td></td>
<td align="right"><input type="submit" class="button" value="Регистрация" name="cmdwebsignup" /></td>
</tr>
</table>
</fieldset>
</form>

<script language="javascript" type="text/javascript"> 
	var id = "[+country+]";
	var f = document.websignupfrm;
	var i = parseInt(id);	
	if (!isNaN(i)) f.country.options[i].selected = true;
</script>
<hr>
<!-- notification section -->
<div class="success">Заполнение завершено! Ваш аккаунт создан. К вам на почту отправлено письмо с регистрационными данными. Теперь вы можете войти, воспользовавшись вышеприведенной формой.</p>
</div>
';$c['product']='<div class="product">
<form action="[~[+id+]~]" method="post" name="Tovar[+id+]" id="Tovar[+id+]">
<center><a href="[~[+id+]~]"><img src="[(base_url)][+cart_icon+]" width="138" height="118" /></a></center>
<div class="dashed">
<h3><a href="[~[+id+]~]" class="title">[+pagetitle+] [+articul+]</a></h3>
[+tsvoptions+]
</div>
<div class="clear"></div>
Кол-во: <input type="number" name="qty" value="1" [+tsvbattr+] />
<div class="clear"></div>
<div class="dashed">
     <span class="left"><span class="price">[+tsvprice+]</span> руб.</span>
     <a href="javascript: void(0);" onclick="AddToCart(\'[+id+]\');return false" class="button right cart">В корзину</a>
</div>
<div class="clear"></div>
[+tsvservices+]
</form>
</div>
';$c['Shop_FullCheckout']='<div>
  [+shop.basket.checkouttable+]
</div>
 <div>
  [+shop.basket.userform+]
</div>


';$c['Shop_Cart']='<table class="tsvshop">

<thead>
<tr>
<th>Фото</th>
<th>Наименование товара</th>
<th>Кол-во</th>
<th class="ralign">Цена</th>
<th class="ralign">Итого</th>
<th></th>
</tr>
</thead>
<tbody>

<!--noempty-->
<tr>
<td class="icon"><img src="[+shop.basket.iconpath+]" alt="[+shop.basket.name+]" width="50" /></td>
<td class="name"><a href="[+shop.basket.link+]">[+shop.basket.name+]</a><i>[+shop.basket.details+]</i></td>
<td class="qty">[+shop.basket.qinput+]</td>
<td class="price">[+shop.basket.price+] [+shop.basket.monetary+]</td>
<td class="price">[+shop.basket.summa+] [+shop.basket.monetary+]</td>
<td class="del"><a href="#" title="Удалить" [+shop.basket.delatributs+]><img src="/assets/templates/demoshop/img/del.png" /></a></td>
</tr>
<!--/noempty-->

<!--subtotal-->
<tr class="subtotal">
<td colspan="4"><b>Сумма:</b></td>
<td colspan="1">[+shop.basket.subtotal+] [+shop.basket.monetary+]</td>
<td></td>
</tr>
<!--/subtotal-->
<!--discount-->
<tr class="subtotal">
<td colspan="3"></td>
<td colspan="1">Скидка <b>[+shop.basket.discount+]</b> %</td>
<td colspan="1">- [+shop.basket.discountsize+] [+shop.basket.monetary+]</td>
<td></td>
</tr>
<!--/discount-->
<!--shipping-->
<tr class="subtotal">
<td colspan="4"><b>Доставка:</b></td>
<td colspan="1">[+shop.basket.shipping+] [+shop.basket.monetary+]</td>
<td></td>
</tr>
<!--/shipping-->
<!--tax-->
<tr class="subtotal">
<td colspan="4"><b>Налог:</b></td>
<td colspan="1">[+shop.basket.tax+] [+shop.basket.monetary+]</td>
<td></td>
</tr>
<!--/tax-->
<!--total-->
<tr class="total">
<td colspan="4"><b>Итого:</b></td>
<td colspan="1">[+shop.basket.topay+] [+shop.basket.monetary+]</td>
<td></td>
</tr>
<!--/total-->
</tbody>
</table>

<!--buttons-->
<p>
<a class="button right" href="[+shop.basket.checkurl+]">Оформить заказ</a>
<form class="left" method="GET" id="basketClearLink"><input name="a" value="clear" type="hidden"/><a href="javascript:void(0);" onClick="getId(\'basketClearLink\').submit();" class="button right">Очистить корзину</a></form>&nbsp;&nbsp;
</p>
<!--/buttons-->



';$c['DLproduct']='<div class="product">
<form action="[~[+id+]~]" method="post" name="Tovar[+id+]" id="Tovar[+id+]">
<center><a href="[~[+id+]~]"><img src="[(base_url)][+tv.cart_icon+]" width="138" height="118" /></a></center>
<div class="dashed">
<h3><a href="[~[+id+]~]" class="title">[+pagetitle+] [+tv.articul+]</a></h3>
[+tsvoptions+]
</div>
<div class="clear"></div>
Кол-во: <input type="number" name="qty" value="1" [+tsvbattr+] />
<div class="clear"></div>
<div class="dashed">
     <span class="left"><span class="price">[+tsvprice+]</span> руб.</span>
     <a href="javascript: void(0);" onclick="AddToCart(\'[+id+]\');return false" class="button right cart">В корзину</a>
</div>
<div class="clear"></div>
[+tsvservices+]
</form>
</div>

';$c['fancybox']='<script type="text/javascript" src="/assets/js/fancybox/jquery.mousewheel-3.0.6.pack.js"></script>
<script type="text/javascript" src="/assets/js/fancybox/jquery.fancybox.js"></script>
<script>
  $(function(){
       $("a[rel=fancy]").fancybox({\'transitionIn\': \'none\',\'transitionOut\': \'none\', \'nextEffect\': \'none\', \'prevEffect\': \'none\'});
  });
</script>
<link rel="stylesheet" type="text/css" href="/assets/js/fancybox/jquery.fancybox.css" media="screen" />';$s=&$this->snippetCache;$s['DLMenu']='return require MODX_BASE_PATH.\'assets/snippets/DocLister/snippet.DLMenu.php\';';$s['summary']='return require MODX_BASE_PATH.\'assets/snippets/summary/snippet.summary.php\';';$s['if']='return require MODX_BASE_PATH.\'assets/snippets/if/snippet.if.php\';';$s['DLSitemap']='return require MODX_BASE_PATH.\'assets/snippets/DocLister/snippet.DLSitemap.php\';';$s['DocLister']='return require MODX_BASE_PATH.\'assets/snippets/DocLister/snippet.DocLister.php\';';$s['FormLister']='return require MODX_BASE_PATH.\'assets/snippets/FormLister/snippet.FormLister.php\';';$s['DLCrumbs']='return require MODX_BASE_PATH.\'assets/snippets/DocLister/snippet.DLCrumbs.php\';';$s['DocInfo']='return require MODX_BASE_PATH.\'assets/snippets/docinfo/snippet.docinfo.php\';';$s['phpthumb']='return require MODX_BASE_PATH.\'assets/snippets/phpthumb/snippet.phpthumb.php\';';$s['AjaxSearch']='return require MODX_BASE_PATH.\'assets/snippets/ajaxSearch/snippet.ajaxSearch.php\';';$s['TSVoffice']='global $tsvshop;
include_once $modx->config[\'base_path\']."assets/snippets/tsvshop/include/config.inc.php";
include_once $modx->config[\'base_path\']."assets/snippets/tsvoffice/tsvoffice.inc.php";
?>';$s['WebChangePwd']='# Set Snippet Paths 
$snipPath  = (($modx->isBackend())? "../":"");
$snipPath .= "assets/snippets/";

# check if inside manager
if ($m = $modx->isBackend()) {
	return \'\'; # don\'t go any further when inside manager
}


# Snippet customize settings
$tpl		= isset($tpl)? $tpl:"";

# System settings
$isPostBack		= count($_POST) && isset($_POST[\'cmdwebchngpwd\']);

# Start processing
include_once $snipPath."weblogin/weblogin.common.inc.php";
include_once $snipPath."weblogin/webchangepwd.inc.php";

# Return
return $output;';$s['WebLogin']='return require MODX_BASE_PATH.\'assets/snippets/weblogin/snippet.weblogin.php\';';$s['TSVshopPrepare']='/* 
 это сниппет выполняет те же функции, что и екстендер shop: обрабатывает и выводит товары для модуля TSVshop
 он позволяет выводить цену товара в зависимости от группы, к которой принаджлежит авторизованный пользователь
 для этого у товара добавляется несколько TV-параметров с ценами для разных веб-групп, напр., price_group1, price_group2 и т.д.
 в вызове DocLister параметр gtp , в котором задается такая формула:
 имя_веб_группы1=имя_tv_с_ценой1;имя_веб_группы2=имя_tv_с_ценой2.
 если &gtp не указан, то берется цена из TV price

 Пример вызова с разными ценами (только необходимые параметры): 
 [[DocLister? &parents=`30` &prepare=`TSVshopPrepare` &gtp=`gropname1=tvprice_group1;gropname2=tvprice_group2` &tvList=`cart_icon,price,typeitem,tsvshop_param`]]
  
 Самый простой вызов для вывода товаров из папки с ИД 30:
 [[DocLister? &parents=`30` &prepare=`TSVshopPrepare` &tvList=`cart_icon,price,typeitem,tsvshop_param` ]]
 
*/
global $tvprice, $allGroups, $modx, $tvPrefix; 

if(!function_exists(\'tsv_MemberCheck\')) {	
		function tsv_MemberCheck() {
			global $modx;
			$allGroups = array ();
			$tableName = $modx->getFullTableName(\'webgroup_names\');
			$sql = "SELECT name FROM $tableName";
			if ($rs = $modx->db->query($sql)) {
				while ($row = $modx->db->getRow($rs)) {
					array_push($allGroups, stripslashes($row[\'name\']));
				}
			}
			$_SESSION[\'allGroups\'] = $allGroups;
		}
}

if(!function_exists(\'tsv_isValidGroup\')) {	
		function tsv_isValidGroup($groupName) {
			global $modx, $allGroups;
			$isValid = !(array_search($groupName, $allGroups) === false);
			return $isValid;
		}	
}	

$tvList = $_DocLister->getCFGDef(\'tvList\');
$tvList = (!empty($tvList)) ? implode(\',\',array_unique(explode(\',\',$tvList.\',\'.\'cart_icon,price,typeitem\'))) : \'cart_icon,price,typeitem\'; 

$gtp = $_DocLister->getCFGDef(\'gtp\');	
$tvPrefix = $_DocLister->getCFGDef(\'tvPrefix\');
$tvPrefix = (!empty($tvPrefix)) ? $tvPrefix."." : \'tv.\';
$gtp = (isset($gtp)) ? $gtp : "";
$allGroups = (isset($_SESSION[\'allGroups\'])) ? $_SESSION[\'allGroups\'] : tsv_MemberCheck(); //все имеющиеся группы
$usergroups = $modx->isMemberOfWebGroup($allGroups); //авторизован ли пользователь и относится ли к какой-то группе?
$tvprice = (empty($gtp) || !$usergroups) ? $tvPrefix."price" : ""; // если нет группы либо нет параметра $gtp, tvprice = price

if (empty($tvprice)) {
  $gtptmp = explode(\';\',trim($gtp));
  foreach ($gtptmp as $val) {
    $gtpdata = explode(\'=\',trim($val));
	if (tsv_isValidGroup($gtpdata[0]) && $modx->isMemberOfWebGroup(array($gtpdata[0]))) {
      $tvprice = $gtpdata[1];
    }
  }
  $tvprice = (empty($tvprice)) ? $tvPrefix."price" : $tvPrefix.$tvprice;
}



if(!function_exists(\'tsvservices\')) {
        function tsvservices($data) {
				global $tvprice,$tvPrefix;
                return \'<input type="hidden" name="typeitem" value="\'.$data[$tvPrefix.\'typeitem\'].\'" /><input type="hidden" name="formula" value="\'.$data[$tvprice].\'" /><input type="hidden" name="cart_icon" value="[(base_url)]\'.$data[$tvPrefix.\'cart_icon\'].\'" />\';
        }
}

if(!function_exists(\'tsvprice\')) {
        function tsvprice($data) {
				global $tvprice,$tvPrefix;
                require(MODX_BASE_PATH."assets/snippets/tsvshop/include/config.inc.php");
                $decimal = ($tsvshop[\'PriceFormat\']=="0" || $tsvshop[\'PriceFormat\']=="") ? 0 : 2;
                $price = number_format(floatval($data[$tvprice]), $decimal, \'.\', \'\');
                //return \'<span id="price\'.$data[\'id\'].\'" class="tsvprice">\'.tsv_CalcPrice($data[\'price\'], 1, tsv_parseOptions($data[\'tsvshop_param\'])).\'</span>\';
                return \'<span id="price\'.$data[\'id\'].\'" class="tsvprice">\'.number_format(tsv_CalcPrice($data[$tvprice], 1, tsv_parseOptions($data[$tvPrefix.\'tsvshop_param\'])), $decimal, \'.\', \'\').\'</span>\';
        }
}

if(!function_exists(\'tsvoptions\')) {
        function tsvoptions($data) {
          global $modx;
          return $modx->runSnippet(\'TSVshop_options\',array(\'docid\'=>$data[\'id\']));
        }
}

if(!function_exists(\'tsvbutton\')) {
        function tsvbutton($data) {
                return \'onkeypress="return testKey(event)" onChange="Ucalc(\\\'\'.$data[\'id\'].\'\\\')"\';
        }
}

if(!function_exists("tsv_ConvertPrice"))
{
function tsv_ConvertPrice($txt) {
            if (strpos($txt, "||") === false) {
                echo str_replace(\'\\r\\n\',\'\',$txt);
            } else {
                //$pieces = explode("||", $txt);  //было
                $pieces = explode("||", "||".$txt);
                $i = 0;
                $o = "";
                $o2 = "";
                foreach($pieces as $value) {
                    $i++;
                    if (strlen($value) > 0) {
                        $pos = strpos($value, "-");
                        if ($pos != false) {
                            $tmp = substr($value, 0, $pos);
                            $o.= "(( " . $tmp . "<=&#36n & ";
                            $pos2 = strpos($value, "==");
                            $tmp = substr($value, $pos + 1, $pos2 - $pos - 1);
                            $o.= $tmp . ">=&#36n)?( ";
                            $o2.= "))";
                            $tmp = substr($value, $pos2 + 2);
                            $o.= $tmp . " ):( ";
                        } else {
                            $tmp = $value;
                            $o.= $tmp;
                        }
                    }
                }
                unset($tv);
                unset($value);
                unset($pieces);
                return "=" . $o . $o2;
            }
}
}

if(!function_exists("tsv_TryCalc"))
{
function tsv_TryCalc($cod,$col) {
	global $modx;
        $cod = str_replace(\' \', \'\', $cod);
        $cod = str_replace(\',\', \'.\', $cod);
        $cod = str_replace(\'\\r\\n\', \'\', $cod);
        //if (strpos($cod, "||")){
	if (strpos($cod, "==") || strpos($cod, "||")){
            $cod=tsv_ConvertPrice($cod);
            $a="";
            $cod=str_replace("&#36n", $col, $cod);
            $cod=str_replace("$n", $col, $cod);
            if (!$cod) {$cod="\\"\\"";}
            if(substr($cod, -1)==\'+\')$cod.=\'0\';
            eval("\\$a".$cod.";");
            return ($a*1);
       } else {
            if (!$cod) {$cod="\\"\\"";}
            if(substr($cod, -1)==\'+\')$cod.=\'0\';
            eval("\\$a=".$cod.";");
            return ($a*1);
       }
}
}

if(!function_exists("tsv_CalcPrice"))
{
function tsv_CalcPrice($price, $col, $opt) {
  //$opt = (!preg_match("/[^(\\w)|(\\+)|(\\*)|(\\-)|(\\/)]/",$opt[0])) ? "+".$opt : $opt;
	$price = tsv_TryCalc($price, $col);
	$opt = str_replace(" ","+", $opt);
	$opt = str_replace("#","*", $opt);
	$price = tsv_TryCalc($price.$opt, $col);
  return $price;
}
} 

if(!function_exists("tsv_parseOptions")) {
function tsv_parseOptions($opt) {
   $price = 0;
   $fprice = 0;
   $i=0;
   $price=\'\';
   if (is_array($txt = explode(";", $opt))) {
     foreach ($txt as $sel1) {
        $option = explode(":", $sel1);
        $sel3 = explode("||",$option[1]);
        foreach($sel3 as $sel4) {
           $res = explode("==",$sel4);
           if ($res[0]{0} == "*") {
			 if (!in_array($res[1]{0},array(\'+\', \'-\',\'/\',\'*\')))$res[1]=\'+\'.$res[1];
             $price.= $res[1];
           }
           if ($i==0) { $fprice = $res[1]; }
           $i++;
        }
     }
   }
   $price = ($i>0) ? $price : $fprice;
   return $price; 
}
}



$data[\'tsvservices\'] = tsvservices($data);
$data[\'tsvprice\'] = tsvprice($data);
$data[\'tsvoptions\'] = tsvoptions($data);
$data[\'tsvbattr\'] = tsvbutton($data);
$data[\'pagetitle\'] = $data[\'pagetitle\'];
return $data;
?>';$s['WebSignup']='# Set Snippet Paths 
$snipPath = $modx->config[\'base_path\'] . "assets/snippets/";

# check if inside manager
if ($m = $modx->isBackend()) {
    return \'\'; # don\'t go any further when inside manager
}


# Snippet customize settings
$tpl = isset($tpl)? $tpl:"";
$useCaptcha = isset($useCaptcha)? $useCaptcha : $modx->config[\'use_captcha\'] ;
// Override captcha if no GD
if ($useCaptcha && !gd_info()) $useCaptcha = 0;

# setup web groups
$groups = isset($groups) ? array_filter(array_map(\'trim\', explode(\',\', $groups))):array();

# System settings
$isPostBack        = count($_POST) && isset($_POST[\'cmdwebsignup\']);

$output = \'\';

# Start processing
include_once $snipPath."weblogin/weblogin.common.inc.php";
include_once $snipPath."weblogin/websignup.inc.php";

# Return
return $output;';$s['TSVshop']='define("TSVSHOP_PATH", MODX_BASE_PATH."assets/snippets/tsvshop/");
define("TSVSHOP_URL", MODX_BASE_URL."assets/snippets/tsvshop/");
define("TSVSHOP_SURL", MODX_SITE_URL."assets/snippets/tsvshop/");
define("TSVSHOP_PUREPATH", "assets/snippets/tsvshop/");
define(\'IN_TSVSHOP_MODE\',\'true\');

global $cache, $session, $tsvshop, $shop_lang, $tables, $folders, $jsfiles;
//$tsvshop = array();
$jsfiles = array();

if (!$cache) {
    include_once TSVSHOP_PATH.\'include/cache.class.php\';
    $cache = fileCache::GetInstance(3600,MODX_BASE_PATH.\'assets/cache/\');
}
include TSVSHOP_PATH."include/config.inc.php";
include_once (TSVSHOP_PATH. \'admin/includes/core.inc.php\');
include_once (TSVSHOP_PATH. \'include/cart.inc.php\'); 
include TSVSHOP_PATH."include/tsvshop.inc.php";
session_set_cookie_params("",\'/\');
session_name($session);
session_start();
tsv_minregjs();';$s['TSVshopLastViews']='/*
* ВНИМАНИЕ:
* Сниппет нужно вызывать на всех страницах, которые нужно учитывать в историю просмотра, а также там, где нужно выводить эту историю.
* Страница, где нет вызова сниппета, не будет учитываться в историю. Если на ней не нужно выводить историю, а только учесть ее, нужно 
* указать в вызове сниппет параметр &mode=`save`
*
* placeholders
* [+count_recent+] - кол-во просмотренных ресурсов
* [+lines+] - наименования
* [+unset+] - ссылка на сброс истории просмотра
* [+itemId+] - ИД ресурса
* [+itemPageTitle+] - название ресурса pagetitle
*
* &id = ИД вызова (при нескольких вызовах сниппета на странице, для предотвращения конфликта)
* &mode = режим вывода: список ИД (значение: ids), 
		  сформированный html (значение: html), 
		  ничего не выводит - (значение: save), если нужно только учесть документ в историю, но ничего не выводить
* &templateID = список ИД шаблонов страницы, к которым применять историю
* &tpl = имя чанка с контейнером, куда выводится наименования ресурсов
* &itemTpl = имя чанка, выводящего каждое наименование ресурса
* &limit = кол-во выводимых в истории ресурсов (по-умолчанию 5)
* &toPH = если равно 1, то выводит результат выполнения сниппета в плейсхолдер id.output  (id - это то, что указано в &id)
*/

$docid = $modx->documentIdentifier;
$tpl = isset($tpl) ? $modx->getChunk($tpl) : \'<div class="recent">[+count_recent+]<ul>[+lines+]</ul></div>\';
$templateID = isset($templateID) ? $templateID : \'4\';
$id = isset($id) ? $id : \'\';
$prefix = isset($id) ? $id.\'.\' : \'\';
$toPH = isset($toPH) ? $toPH : \'0\';
$mode = isset($mode) ? $mode : \'ids\'; // ids - выводит только ИД документов через запятую, иначе - сформированный HTML-код
$itemTpl = isset($itemTpl) ? $modx->getChunk($itemTpl) : \'<li><a target="_blank" href="[~[+itemId+]~]">[+itemPageTitle+]</a></li>\';
$limit = isset($limit) ? $limit : 5;
$unset = \'<a class="unset_recent" href="[~[*id*]~]&unset=recent">очистить</a>\'; //$count=1;
$ch = $modx->getDocument($docid);
$temp = explode(\',\', $templateID);

if(!empty($_GET[\'unset\']) && $_GET[\'unset\']==\'recent\') {
unset($_SESSION[$id.\'goods\']);
}

foreach($temp as $value)
{
	if ($ch[\'template\'] == $value)
	{
		if (is_array($_SESSION[$id.\'goods\'][\'viewed\']))
		{
			if (!in_array($docid, $_SESSION[$id.\'goods\'][\'viewed\']))
			{
				$_SESSION[$id.\'goods\'][\'viewed\'][] = $docid;
			}
		}
		else
		{
			$_SESSION[$id.\'goods\'][\'viewed\'] = array();
      $_SESSION[$id.\'goods\'][\'viewed\'][] = $docid;
		}
	}
}

if (count($_SESSION[$id.\'goods\'][\'viewed\']) > $limit)
{
	array_shift($_SESSION[$id.\'goods\'][\'viewed\']);
}

if (is_array($_SESSION[$id.\'goods\'][\'viewed\']))
{
	$SV = array_reverse($_SESSION[$id.\'goods\'][\'viewed\']);
	foreach($SV as $itemId)
	{
		$res = $modx->getDocument($itemId); //get need resource
		$tp.= str_replace(array(
			\'[+itemId+]\',
			\'[+itemPageTitle+]\'
		) , array(
			$res[\'id\'],
			$res[\'pagetitle\']
		) , $itemTpl);
	}

	$count = count($SV);
	$modx->setPlaceholder($prefix.\'count_recent\', $count);
	$modx->setPlaceholder($prefix.\'lines\', $tp);
	$modx->setPlaceholder($prefix.\'unset\', $unset);
	$output = $tpl;
}

if (!empty($SV))
{
	if ($mode==\'ids\' || empty($mode)) {
    return ($toPH) ? $modx->setPlaceholder($prefix.\'output\',$res) : $res;
	} else if ($mode==\'html\') {
    return ($toPH) ? $modx->setPlaceholder($prefix.\'output\',$output) : $output;
	} else if ($mode==\'save\') {
		return;
	} else return;
}';$s['TSVshop_options']='//select=123:синий==0||зеленый==0||красный==0;option=123:синий==0||зеленый==0||красный==0;
//select=Цвет:синий==0||зеленый==0||красный==0;option=Что_то:минимум==0||стандарт==0||расширенный==0;option=Что-то:минимум==-10||*стандарт ==0||расширенный==0;
include ($modx->config[\'base_path\'] . \'assets/snippets/tsvshop/include/config.inc.php\');

$docid = isset($docid) ? $docid : \'\';

$first_selected = isset($first_selected) ? $first_selected : true;
$wraptag = isset($wraptag) ? $wraptag : false;
$function = \'Ucalc(\'.$docid.\')\';

if ($tsvshop[\'TypeCat\']=="catalog") {
$res=$modx->db->query("SELECT * FROM ".$modx->getFullTableName(\'test_products\')." WHERE `id` = ".$docid." LIMIT 1");
if ($res) {
    $row=$modx->db->getRow($res);
    $tv_txt = $row[\'tsvshop_param\'];
} else {
    $tv_txt ="";
}
} else {
$tv_txt = $modx->getTemplateVarOutput(\'tsvshop_param\',$docid);
$tv_txt=$tv_txt[\'tsvshop_param\'];
}
$n = strpos($tv_txt, ";");
$tv_cnt=0;

if (!$n && strlen($tv_txt)>3){
 $n=strlen($tv_txt);
}

while ($n!=false){
   $tv_cnt++;
   $n_s=0;
   $str_temp=substr($tv_txt, $n_s,$n-$n_s);
   $tv_txt=substr($tv_txt, $n+1);

   $sub_name="";
   $format="select";

   if (substr($str_temp,0,6)=="select") {
       $format = \'select\';
       $n_s=6;
   }else   if (substr($str_temp,0,5)=="radio") {
         $format = \'radio\';
         $n_s=5;
   } else   if (substr($str_temp,0,8)=="checkbox") {
         $format = \'checkbox\';
         $n_s=8;
   } else{
    echo("=<");
    echo($str_temp);
    echo(">=");
   };

   $subnameAttr="";
   if(substr($str_temp,$n_s,2)=="=="){
       $n_s+=2;
       $n = strpos($str_temp, ":");
       $sub_name=(substr($str_temp,$n_s,$n-$n_s));
       $n_s=$n;
       echo("<span class=\'Shop_option_name\'>".$sub_name."</span>");
	   $subnameAttr="data-subname=\\"$sub_name\\"";
   };
   $str_temp=substr($str_temp, $n+1);

$tvname="Shop_".$tv_cnt;
$tvout=$str_temp;

switch($format){
  case "select":
	  $options = "";
	  $count = 0;
	  $value = !empty($tvout) ? explode("||",$tvout) : array();
	  foreach($value as $val){
	    $count++;
	    list($item,$itemvalue) = explode("==",$val);

            $selected="";
             if(substr($item,0,1)=="*"){
               $selected = "selected";
               $item =substr($item,1);
             };

	     $options .= "\\n  <option value=\\"".$itemvalue."==".$item."\\" $selected>$item</option>";
    }
	  $o = !empty($options) ? "\\n<select $subnameAttr class=\\"addparam\\" name=\\"".$tvname."\\" onchange=\\"".$function."\\">$options\\n</select>\\n" : "";
  break;

  case "radio":
	  $output = "";
	  $otag = $wraptag ? "<$wraptag>" : "";
	  $ctag = $wraptag ? "</$wraptag>" : "";
	  $value = !empty($tvout) ? explode("||",$tvout) : array();
	  $count = 0;
	  foreach($value as $val){
	    $count++;
	    list($item,$itemvalue) = explode("==",$val);

            $selected="";
            if(substr($item,0,1)=="*"){
               $selected = \' checked="checked" \';
               $item =substr($item,1);
            };
	    $output .= "\\n  $otag<label><input $subnameAttr class=\\"addparam\\" type=\\"radio\\" name=\\"".
	    	$tvname."\\" value=\\"".$itemvalue."==".$item."\\" id=\\"radio".$docid."__".$count."\\" $selected onclick=\\"".
	    	$function."\\" /> $item ";
	    	// если вместо разницы в цене вписать переопределение цены:
	    	// например price=100
	    	// param="10"
	    	// можно вписать param="*0+110"
	    	// в таком случае к тексту параметра припишется переопределенная цена в скобках.
	    	$getPrice=explode("*0+",$itemvalue);
	    	if (count($getPrice)>1)  $output .= "<span class=\\"priceAddData\\">(".($getPrice[1])." ".$tsvshop["MonetarySymbol"].")</span>";
	    $output .= "</label>$ctag";
    }
    $o = $output."\\n";
  break;

  case "checkbox":
	  $output = "";
	  $otag = $wraptag ? "<$wraptag>" : "";
	  $ctag = $wraptag ? "</$wraptag>" : "";
	  $value = !empty($tvout) ? explode("||",$tvout) : array();
	  $count = 0;
	  foreach($value as $val){
	    $count++;
	    list($item,$itemvalue) = explode("==",$val);

        $selected="";
        if(substr($item,0,1)=="*"){
            $selected = \' checked="checked" \';
            $item =substr($item,1);
        };
	    $output .= "\\n  $otag<input $subnameAttr class=\\"addparam\\" type=\\"checkbox\\" name=\\"".$tvname."\\" value=\\"".$itemvalue."==".$item."\\"

id=\\"radio".$docid."__".$count."\\" $selected onclick=\\"".$function."\\" /> <label for=\\"radio".$docid."__$count\\">$item</label>$ctag";
    }
    $o = $output."\\n";
  break;
}

echo $o."<br>";

$n = strpos($tv_txt, ";");
}

echo \'<input type="hidden" name="OptionText" value="\'.$tv_cnt.\'">\';';$s['ifsnippet']='if (!isset($modx->snippetCache[$name])) {
	return \'<p class="bg-danger">For work \'.$name.\' in demo site you need install <b>\'.$name.\'</b> from <a href="\'.MODX_MANAGER_URL.\'#?a=112&id=2">Extras</a> module</p>\';
}';$s['prepareBlog']='if ($data[\'image\'] != \'\'){
	$data[\'blog-image\'] = \'<img src="\'.$modx->runSnippet(\'phpthumb\', array(\'input\'=>$data[\'image\'], \'options\'=>\'w=600,h=280,zc=1\')).\'" alt="\'.$data[\'pagetitle\'].\'">\';
}else{
	$data[\'blog-image\'] = \'\';
}
return $data;';$p=&$this->pluginCache;$p['OutdatedExtrasCheck']='/**
 * OutdatedExtrasCheck
 *
 * Check for Outdated critical extras not compatible with EVO 1.4.0
 *
 * @category	plugin
 * @version     1.4.0 
 * @license 	http://www.gnu.org/copyleft/gpl.html GNU Public License (GPL)
 * @package     evo
 * @author      Author: Nicola Lambathakis
 * @internal    @events OnManagerWelcomeHome
 * @internal    @properties &wdgVisibility=Show widget for:;menu;All,AdminOnly,AdminExcluded,ThisRoleOnly,ThisUserOnly;All &ThisRole=Run only for this role:;string;;;(role id) &ThisUser=Run only for this user:;string;;;(username) &DittoVersion=Min Ditto version:;string;2.1.3 &EformVersion=Min eForm version:;string;1.4.9 &AjaxSearchVersion=Min AjaxSearch version:;string;1.11.0 &WayfinderVersion=Min Wayfinder version:;string;2.0.5 &WebLoginVersion=Min WebLogin version:;string;1.2 &WebSignupVersion=Min WebSignup version:;string;1.1.2 &WebChangePwdVersion=Min WebChangePwd version:;string;1.1.2 &BreadcrumbsVersion=Min Breadcrumbs version:;string;1.0.5 &ReflectVersion=Min Reflect version:;string;2.2 &JotVersion=Min Jot version:;string;1.1.5 &MtvVersion=Min multiTV version:;string;2.0.13 &badthemes=Outdated Manager Themes:;string;MODxRE2_DropdownMenu,MODxRE2,MODxRE,MODxCarbon,D3X,MODxFLAT,wMOD,ScienceStyle
 * @internal    @modx_category Manager and Admin
 * @internal    @installset base
 * @internal    @disabled 0
 */

// get manager role check
$internalKey = $modx->getLoginUserID();
$sid = $modx->sid;
$role = $_SESSION[\'mgrRole\'];
$user = $_SESSION[\'mgrShortname\'];
// show widget only to Admin role 1
if(($role!=1) AND ($wdgVisibility == \'AdminOnly\')) {}
// show widget to all manager users excluded Admin role 1
else if(($role==1) AND ($wdgVisibility == \'AdminExcluded\')) {}
// show widget only to "this" role id
else if(($role!=$ThisRole) AND ($wdgVisibility == \'ThisRoleOnly\')) {}
// show widget only to "this" username
else if(($user!=$ThisUser) AND ($wdgVisibility == \'ThisUserOnly\')) {}
else {
// get plugin id and setting button
$result = $modx->db->select(\'id\', $this->getFullTableName("site_plugins"), "name=\'{$modx->event->activePlugin}\' AND disabled=0");
$pluginid = $modx->db->getValue($result);
if($modx->hasPermission(\'edit_plugin\')) {
$button_pl_config = \'<a data-toggle="tooltip" href="javascript:;" title="\' . $_lang["settings_config"] . \'" class="text-muted pull-right" onclick="parent.modx.popup({url:\\\'\'. MODX_MANAGER_URL.\'?a=102&id=\'.$pluginid.\'&tab=1\\\',title1:\\\'\' . $_lang["settings_config"] . \'\\\',icon:\\\'fa-cog\\\',iframe:\\\'iframe\\\',selector2:\\\'#tabConfig\\\',position:\\\'center center\\\',width:\\\'80%\\\',height:\\\'80%\\\',hide:0,hover:0,overlay:1,overlayclose:1})" ><i class="fa fa-cog fa-spin-hover" style="color:#FFFFFF;"></i> </a>\';
}
$modx->setPlaceholder(\'button_pl_config\', $button_pl_config);
//plugin lang
$_oec_lang = array();
$plugin_path = $modx->config[\'base_path\'] . "assets/plugins/extrascheck/";
include($plugin_path . \'lang/english.php\');
if (file_exists($plugin_path . \'lang/\' . $modx->config[\'manager_language\'] . \'.php\')) {
include($plugin_path . \'lang/\' . $modx->config[\'manager_language\'] . \'.php\');
}
//run the plugin
// get globals
global $modx,$_lang;
//function to extract snippet version from description <strong></strong> tags 
if (!function_exists(\'getver\')) {
function getver($string, $tag)
{
$content ="/<$tag>(.*?)<\\/$tag>/";
preg_match($content, $string, $text);
return $text[1];
	}
}
$e = &$modx->Event;
$EVOversion = $modx->config[\'settings_version\'];
$output = \'\';
//get extras module id for the link
$modtable = $modx->getFullTableName(\'site_modules\');
$getExtra = $modx->db->select( "id, name", $modtable, "name=\'Extras\'" );
while( $row = $modx->db->getRow( $getExtra ) ) {
$ExtrasID = $row[\'id\'];
}
//check outdated files
//ajax index
$indexajax = "../index-ajax.php";
if (file_exists($indexajax)){
    $output .= \'<div class="widget-wrapper alert alert-danger"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> <b>index-ajax.php</b> \'.$_oec_lang[\'not_used\'].\' <b>Evolution \'.$EVOversion.\'</b>.  \'.$_oec_lang[\'if_dont_use\'].\', \'.$_oec_lang[\'please_delete\'].\'.</div>\';
}
//check outdated default manager themes
$oldthemes = explode(",","$badthemes");
foreach ($oldthemes as $oldtheme){
	if (file_exists(\'media/style/\'.$oldtheme)){
    $output .= \'<div class="widget-wrapper alert alert-danger"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> <b>\'.$oldtheme.\'</b> \'.$_lang["manager_theme"].\',  \'.$_oec_lang[\'isoutdated\'].\' <b>Evolution \'.$EVOversion.\'</b>.   \'.$_oec_lang[\'please_delete\'].\' \'.$_oec_lang[\'from_folder\'].\' \' . MODX_MANAGER_PATH . \'media/style/.</div>\';
}
}	
//get site snippets table
$table = $modx->getFullTableName(\'site_snippets\');
//check ditto
//get min version from config
$minDittoVersion = $DittoVersion;
//search the snippet by name
$CheckDitto = $modx->db->select( "id, name, description", $table, "name=\'Ditto\'" );
if($CheckDitto != \'\'){
while( $row = $modx->db->getRow( $CheckDitto ) ) {
//extract snippet version from description <strong></strong> tags 
$curr_ditto_version = getver($row[\'description\'],"strong");
//check snippet version and return an alert if outdated
if (version_compare($curr_ditto_version,$minDittoVersion,\'lt\')){
$output .= \'<div class="widget-wrapper alert alert-warning"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> <b>\' . $row[\'name\'] . \'</b> \'.$_lang["snippet"].\' (version \' . $curr_ditto_version . \') \'.$_oec_lang[\'isoutdated\'].\' <b>Evolution \'.$EVOversion.\'</b>. \'.$_oec_lang[\'please_update\'].\' <b>\' . $row[\'name\'] . \'</b> \'.$_oec_lang["to_latest"].\' (\'.$_oec_lang[\'min _required\'].\' \'.$minDittoVersion.\') \'.$_oec_lang[\'from\'].\' <a target="main" href="index.php?a=112&id=\'.$ExtrasID.\'">\'.$_oec_lang[\'extras_module\'].\'</a> \'.$_oec_lang[\'or_move_to\'].\' <b>DocLister</b></div>\';
		}
	}
} 
//end check ditto

//check eform
//get min version from config
$minEformVersion = $EformVersion;
//search the snippet by name
$CheckEform = $modx->db->select( "id, name, description", $table, "name=\'eForm\'" );
if($CheckEform != \'\'){
while( $row = $modx->db->getRow( $CheckEform ) ) {
//extract snippet version from description <strong></strong> tags 
$curr_Eform_version = getver($row[\'description\'],"strong");
//check snippet version and return an alert if outdated
if (version_compare($curr_Eform_version,$minEformVersion,\'lt\')){
$output .= \'<div class="widget-wrapper alert alert-warning"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> <b>\' . $row[\'name\'] . \'</b> \'.$_lang["snippet"].\' (version \' . $curr_Eform_version . \') \'.$_oec_lang[\'isoutdated\'].\' <b>Evolution \'.$EVOversion.\'</b>. \'.$_oec_lang[\'please_update\'].\' <b>\' . $row[\'name\'] . \'</b> \'.$_oec_lang["to_latest"].\' (\'.$_oec_lang[\'min _required\'].\' \'.$minEformVersion.\') \'.$_oec_lang[\'from\'].\' <a target="main" href="index.php?a=112&id=\'.$ExtrasID.\'">\'.$_oec_lang[\'extras_module\'].\'</a> \'.$_oec_lang[\'or_move_to\'].\' <b>FormLister</b></div>\';
		}
	}
} 
//end check eform
	
//check AjaxSearch
//get min version from config
$minAjaxSearchVersion = $AjaxSearchVersion;
//search the snippet by name
$CheckAjaxSearch = $modx->db->select( "id, name, description", $table, "name=\'AjaxSearch\'" );
if($CheckAjaxSearch != \'\'){
while( $row = $modx->db->getRow( $CheckAjaxSearch ) ) {
//extract snippet version from description <strong></strong> tags 
$curr_AjaxSearch_version = getver($row[\'description\'],"strong");
//check snippet version and return an alert if outdated
if (version_compare($curr_AjaxSearch_version,$minAjaxSearchVersion,\'lt\')){
$output .= \'<div class="widget-wrapper alert alert-warning"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> <b>\' . $row[\'name\'] . \'</b> \'.$_lang["snippet"].\' (version \' . $curr_AjaxSearch_version . \') \'.$_oec_lang[\'isoutdated\'].\' <b>Evolution \'.$EVOversion.\'</b>. \'.$_oec_lang[\'please_update\'].\' <b>\' . $row[\'name\'] . \'</b> \'.$_oec_lang["to_latest"].\' (\'.$_oec_lang[\'min _required\'].\' \'.$minAjaxSearchVersion.\') \'.$_oec_lang[\'from\'].\' <a target="main" href="index.php?a=112&id=\'.$ExtrasID.\'">\'.$_oec_lang[\'extras_module\'].\'</a>.</div>\';
		}
	}
} 
//end check AjaxSearch	
	
//check Wayfinder
//get min version from config
$minWayfinderVersion = $WayfinderVersion;
//search the snippet by name
$CheckWayfinder = $modx->db->select( "id, name, description", $table, "name=\'Wayfinder\'" );
if($CheckWayfinder != \'\'){
while( $row = $modx->db->getRow( $CheckWayfinder ) ) {
//extract snippet version from description <strong></strong> tags 
$curr_Wayfinder_version = getver($row[\'description\'],"strong");
//check snippet version and return an alert if outdated
if (version_compare($curr_Wayfinder_version,$minWayfinderVersion,\'lt\')){
$output .= \'<div class="widget-wrapper alert alert-warning"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> <b>\' . $row[\'name\'] . \'</b> \'.$_lang["snippet"].\' (version \' . $curr_Wayfinder_version . \') \'.$_oec_lang[\'isoutdated\'].\' <b>Evolution \'.$EVOversion.\'</b>. \'.$_oec_lang[\'please_update\'].\' <b>\' . $row[\'name\'] . \'</b> \'.$_oec_lang["to_latest"].\' (\'.$_oec_lang[\'min _required\'].\' \'.$minWayfinderVersion.\') \'.$_oec_lang[\'from\'].\' <a target="main" href="index.php?a=112&id=\'.$ExtrasID.\'">\'.$_oec_lang[\'extras_module\'].\'</a>.</div>\';
		}
	}
} 
//end check Wayfinder
	
//check WebLogin
//get min version from config
$minWebLoginVersion = $WebLoginVersion;
//search the snippet by name
$CheckWebLogin = $modx->db->select( "id, name, description", $table, "name=\'WebLogin\'" );
if($CheckWebLogin != \'\'){
while( $row = $modx->db->getRow( $CheckWebLogin ) ) {
//extract snippet version from description <strong></strong> tags 
$curr_WebLogin_version = getver($row[\'description\'],"strong");
//check snippet version and return an alert if outdated
if (version_compare($curr_WebLogin_version,$minWebLoginVersion,\'lt\')){
$output .= \'<div class="widget-wrapper alert alert-warning"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> <b>\' . $row[\'name\'] . \'</b> \'.$_lang["snippet"].\' (version \' . $curr_WebLogin_version . \') \'.$_oec_lang[\'isoutdated\'].\' <b>Evolution \'.$EVOversion.\'</b>. \'.$_oec_lang[\'please_update\'].\' <b>\' . $row[\'name\'] . \'</b> \'.$_oec_lang["to_latest"].\' (\'.$_oec_lang[\'min _required\'].\' \'.$minWebLoginVersion.\') \'.$_oec_lang[\'from\'].\' <a target="main" href="index.php?a=112&id=\'.$ExtrasID.\'">\'.$_oec_lang[\'extras_module\'].\'</a> \'.$_oec_lang[\'or_move_to\'].\' <b>FormLister</b></div>\';
		}
	}
} 
//end check WebLogin

//check WebChangePwd
//get min version from config
$minWebChangePwdVersion = $WebChangePwdVersion;
//search the snippet by name
$CheckWebChangePwd = $modx->db->select( "id, name, description", $table, "name=\'WebChangePwd\'" );
if($CheckWebLogin != \'\'){
while( $row = $modx->db->getRow( $CheckWebChangePwd ) ) {
//extract snippet version from description <strong></strong> tags 
$curr_WebChangePwd_version = getver($row[\'description\'],"strong");
//check snippet version and return an alert if outdated
if (version_compare($curr_WebChangePwd_version,$minWebChangePwdVersion,\'lt\')){
$output .= \'<div class="widget-wrapper alert alert-warning"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> <b>\' . $row[\'name\'] . \'</b> \'.$_lang["snippet"].\' (version \' . $curr_WebChangePwd_version . \') \'.$_oec_lang[\'isoutdated\'].\' <b>Evolution \'.$EVOversion.\'</b>. \'.$_oec_lang[\'please_update\'].\' <b>\' . $row[\'name\'] . \'</b> \'.$_oec_lang["to_latest"].\' (\'.$_oec_lang[\'min _required\'].\' \'.$minWebChangePwdVersion.\') \'.$_oec_lang[\'from\'].\' <a target="main" href="index.php?a=112&id=\'.$ExtrasID.\'">\'.$_oec_lang[\'extras_module\'].\'</a> \'.$_oec_lang[\'or_move_to\'].\' <b>FormLister</b></div>\';
		}
	}
} 
//end check WebChangePwd
	
//check WebSignup
//get min version from config
$minWebSignupVersion = $WebSignupVersion;
//search the snippet by name
$CheckWebSignup = $modx->db->select( "id, name, description", $table, "name=\'WebSignup\'" );
if($CheckWebSignup != \'\'){
while( $row = $modx->db->getRow( $CheckWebSignup ) ) {
//extract snippet version from description <strong></strong> tags 
$curr_WebSignup_version = getver($row[\'description\'],"strong");
//check snippet version and return an alert if outdated
if (version_compare($curr_WebSignup_version,$minWebSignupVersion,\'lt\')){
$output .= \'<div class="widget-wrapper alert alert-warning"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> <b>\' . $row[\'name\'] . \'</b> \'.$_lang["snippet"].\' (version \' . $curr_WebSignup_version . \') \'.$_oec_lang[\'isoutdated\'].\' <b>Evolution \'.$EVOversion.\'</b>. \'.$_oec_lang[\'please_update\'].\' <b>\' . $row[\'name\'] . \'</b> \'.$_oec_lang["to_latest"].\' (\'.$_oec_lang[\'min _required\'].\' \'.$minWebSignupVersion.\') \'.$_oec_lang[\'from\'].\' <a target="main" href="index.php?a=112&id=\'.$ExtrasID.\'">\'.$_oec_lang[\'extras_module\'].\'</a> \'.$_oec_lang[\'or_move_to\'].\' <b>FormLister</b></div>\';
		}
	}
} 
//end check WebSignup

//check Breadcrumbs
//get min version from config
$minBreadcrumbsVersion = $BreadcrumbsVersion;
//search the snippet by name
$CheckBreadcrumbs = $modx->db->select( "id, name, description", $table, "name=\'Breadcrumbs\'" );
if($CheckBreadcrumbs != \'\'){
while( $row = $modx->db->getRow( $CheckBreadcrumbs ) ) {
//extract snippet version from description <strong></strong> tags 
$curr_Breadcrumbs_version = getver($row[\'description\'],"strong");
//check snippet version and return an alert if outdated
if (version_compare($curr_Breadcrumbs_version,$minBreadcrumbsVersion,\'lt\')){
$output .= \'<div class="widget-wrapper alert alert-warning"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> <b>\' . $row[\'name\'] . \'</b> \'.$_lang["snippet"].\' (version \' . $curr_Breadcrumbs_version . \') \'.$_oec_lang[\'isoutdated\'].\' <b>Evolution \'.$EVOversion.\'</b>. \'.$_oec_lang[\'please_update\'].\' <b>\' . $row[\'name\'] . \'</b> \'.$_oec_lang["to_latest"].\' (\'.$_oec_lang[\'min _required\'].\' \'.$minBreadcrumbsVersion.\') \'.$_oec_lang[\'from\'].\' <a target="main" href="index.php?a=112&id=\'.$ExtrasID.\'">\'.$_oec_lang[\'extras_module\'].\'</a>.</div>\';
		}
	}
} 
//end check Breadcrumbs

//check Reflect
//get min version from config
$minReflectVersion = $ReflectVersion;
//search the snippet by name
$CheckReflect = $modx->db->select( "id, name, description", $table, "name=\'Reflect\'" );
if($CheckReflect != \'\'){
while( $row = $modx->db->getRow( $CheckReflect ) ) {
//extract snippet version from description <strong></strong> tags 
$curr_Reflect_version = getver($row[\'description\'],"strong");
//check snippet version and return an alert if outdated
if (version_compare($curr_Reflect_version,$minReflectVersion,\'lt\')){
$output .= \'<div class="widget-wrapper alert alert-warning"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> <b>\' . $row[\'name\'] . \'</b> \'.$_lang["snippet"].\' (version \' . $curr_Reflect_version . \') \'.$_oec_lang[\'isoutdated\'].\' <b>Evolution \'.$EVOversion.\'</b>. \'.$_oec_lang[\'please_update\'].\' <b>\' . $row[\'name\'] . \'</b> \'.$_oec_lang["to_latest"].\' (\'.$_oec_lang[\'min _required\'].\' \'.$minReflectVersion.\') \'.$_oec_lang[\'from\'].\' <a target="main" href="index.php?a=112&id=\'.$ExtrasID.\'">\'.$_oec_lang[\'extras_module\'].\'</a>.</div>\';
		}
	}
} 
//end check Reflect

//check Jot
//get min version from config
$minJotVersion = $JotVersion;
//search the snippet by name
$CheckJot = $modx->db->select( "id, name, description", $table, "name=\'Jot\'" );
if($CheckJot != \'\'){
while( $row = $modx->db->getRow( $CheckJot ) ) {
//extract snippet version from description <strong></strong> tags 
$curr_Jot_version = getver($row[\'description\'],"strong");
//check snippet version and return an alert if outdated
if (version_compare($curr_Jot_version,$minJotVersion,\'lt\')){
$output .= \'<div class="widget-wrapper alert alert-warning"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> <b>\' . $row[\'name\'] . \'</b> \'.$_lang["snippet"].\' (version \' . $curr_Jot_version . \') \'.$_oec_lang[\'isoutdated\'].\' <b>Evolution \'.$EVOversion.\'</b>. \'.$_oec_lang[\'please_update\'].\' <b>\' . $row[\'name\'] . \'</b> \'.$_oec_lang["to_latest"].\' (\'.$_oec_lang[\'min _required\'].\' \'.$minJotVersion.\') \'.$_oec_lang[\'from\'].\' <a target="main" href="index.php?a=112&id=\'.$ExtrasID.\'">\'.$_oec_lang[\'extras_module\'].\'</a>.</div>\';
		}
	}
} 
//end check Jot
	
//check Multitv
//get min version from config
$minMtvVersion = $MtvVersion;
//search the snippet by name
$CheckMtv = $modx->db->select( "id, name, description", $table, "name=\'multiTV\'" );
if($CheckMtv != \'\'){
while( $row = $modx->db->getRow( $CheckMtv ) ) {
//extract snippet version from description <strong></strong> tags 
$curr_mtv_version = getver($row[\'description\'],"strong");
//check snippet version and return an alert if outdated
if (version_compare($curr_mtv_version,$minMtvVersion,\'lt\')){
$output .= \'<div class="widget-wrapper alert alert-warning"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> <b>\' . $row[\'name\'] . \'</b> \'.$_lang["snippet"].\' (version \' . $curr_mtv_version . \') \'.$_oec_lang[\'isoutdated\'].\' <b>Evolution \'.$EVOversion.\'</b>. \'.$_oec_lang[\'please_update\'].\' <b>\' . $row[\'name\'] . \'</b> \'.$_oec_lang["to_latest"].\' (\'.$_oec_lang[\'min _required\'].\' \'.$minMtvVersion.\') \'.$_oec_lang[\'from\'].\' <a target="main" href="index.php?a=112&id=\'.$ExtrasID.\'">\'.$_oec_lang[\'extras_module\'].\'</a></div>\';
		}
	}
} 
//end check Multitv

if($output != \'\'){
if($e->name == \'OnManagerWelcomeHome\') {
$out = $output;
$wdgTitle = \'EVO \'.$EVOversion.\' - \'.$_oec_lang[\'title\'].\'\';
$widgets[\'xtraCheck\'] = array(
				\'menuindex\' =>\'0\',
				\'id\' => \'xtraCheck\'.$pluginid.\'\',
				\'cols\' => \'col-12\',
                \'headAttr\' => \'style="background-color:#B60205; color:#FFFFFF;"\',
				\'bodyAttr\' => \'\',
				\'icon\' => \'fa-warning\',
				\'title\' => \'\'.$wdgTitle.\' \'.$button_pl_config.\'\',
				\'body\' => \'<div class="card-body">\'.$out.\'</div>\',
				\'hide\' => \'0\'
			);	
            $e->output(serialize($widgets));
return;
		}
	}
}';$p['OutdatedExtrasCheckProps']='{"wdgVisibility":"All","DittoVersion":"2.1.3","EformVersion":"1.4.9","AjaxSearchVersion":"1.11.0","WayfinderVersion":"2.0.5","WebLoginVersion":"1.2","WebSignupVersion":"1.1.2","WebChangePwdVersion":"1.1.2","BreadcrumbsVersion":"1.0.5","ReflectVersion":"2.2","JotVersion":"1.1.5","MtvVersion":"2.0.13","badthemes":"MODxRE2_DropdownMenu,MODxRE2,MODxRE,MODxCarbon,D3X,MODxFLAT,wMOD,ScienceStyle"}';$p['FileSource']='require MODX_BASE_PATH.\'assets/plugins/filesource/plugin.filesource.php\';';$p['TransAlias']='require MODX_BASE_PATH.\'assets/plugins/transalias/plugin.transalias.php\';';$p['TransAliasProps']='{"table_name":"russian","char_restrict":"lowercase alphanumeric","remove_periods":"No","word_separator":"dash"}';$p['TinyMCE4']='/**
 * TinyMCE4
 *
 * Javascript rich text editor
 *
 * @category    plugin
 * @version     4.7.4
 * @license     http://www.gnu.org/copyleft/gpl.html GNU Public License (GPL)
 * @internal    @properties &styleFormats=Custom Style Formats <b>RAW</b><br/><br/><ul><li>leave empty to use below block/inline formats</li><li>allows simple-format: <i>Title,cssClass|Title2,cssClass2</i></li><li>Also accepts full JSON-config as per TinyMCE4 docs / configure / content-formating / style_formats</li></ul>;textarea; &styleFormats_inline=Custom Style Formats <b>INLINE</b><br/><br/><ul><li>will wrap selected text with span-tag + css-class</li><li>simple-format only</li></ul>;textarea;InlineTitle,cssClass1|InlineTitle2,cssClass2 &styleFormats_block=Custom Style Formats <b>BLOCK</b><br/><br/><ul><li>will add css-class to selected block-element</li><li>simple-format only</li></ul>;textarea;BlockTitle,cssClass3|BlockTitle2,cssClass4 &customParams=Custom Parameters<br/><b>(Be careful or leave empty!)</b>;textarea; &entityEncoding=Entity Encoding;list;named,numeric,raw;named &entities=Entities;text; &pathOptions=Path Options;list;Site config,Absolute path,Root relative,URL,No convert;Site config &resizing=Advanced Resizing;list;true,false;false &disabledButtons=Disabled Buttons;text; &webTheme=Web Theme;test;webuser &webPlugins=Web Plugins;text; &webButtons1=Web Buttons 1;text;bold italic underline strikethrough removeformat alignleft aligncenter alignright &webButtons2=Web Buttons 2;text;link unlink image undo redo &webButtons3=Web Buttons 3;text; &webButtons4=Web Buttons 4;text; &webAlign=Web Toolbar Alignment;list;ltr,rtl;ltr &width=Width;text;100% &height=Height;text;400px &introtextRte=<b>Introtext RTE</b><br/>add richtext-features to "introtext";list;enabled,disabled;disabled &inlineMode=<b>Inline-Mode</b>;list;enabled,disabled;disabled &inlineTheme=<b>Inline-Mode</b><br/>Theme;text;inline &browser_spellcheck=<b>Browser Spellcheck</b><br/>At least one dictionary must be installed inside your browser;list;enabled,disabled;disabled &paste_as_text=<b>Force Paste as Text</b>;list;enabled,disabled;disabled
 * @internal    @events OnLoadWebDocument,OnParseDocument,OnWebPagePrerender,OnLoadWebPageCache,OnRichTextEditorRegister,OnRichTextEditorInit,OnInterfaceSettingsRender
 * @internal    @modx_category Manager and Admin
 * @internal    @legacy_names TinyMCE Rich Text Editor
 * @internal    @installset base
 * @logo        /assets/plugins/tinymce4/tinymce/logo.png
 * @reportissues https://github.com/extras-evolution/tinymce4-for-modx-evo
 * @documentation Plugin docs https://github.com/extras-evolution/tinymce4-for-modx-evo
 * @documentation Official TinyMCE4-docs https://www.tinymce.com/docs/
 * @author      Deesen
 * @lastupdate  2018-01-17
 */
if (!defined(\'MODX_BASE_PATH\')) { die(\'What are you doing? Get out of here!\'); }

require(MODX_BASE_PATH."assets/plugins/tinymce4/plugin.tinymce.inc.php");';$p['TinyMCE4Props']='{"styleFormats_inline":"InlineTitle,cssClass1|InlineTitle2,cssClass2","styleFormats_block":"BlockTitle,cssClass3|BlockTitle2,cssClass4","entityEncoding":"named","pathOptions":"Site config","resizing":"false","webTheme":"webuser","webButtons1":"bold italic underline strikethrough removeformat alignleft aligncenter alignright","webButtons2":"link unlink image undo redo","webAlign":"ltr","width":"100%","height":"400px","introtextRte":"disabled","inlineMode":"disabled","inlineTheme":"inline","browser_spellcheck":"disabled","paste_as_text":"disabled"}';$p['Updater']='require MODX_BASE_PATH.\'assets/plugins/updater/plugin.updater.php\';';$p['UpdaterProps']='{"version":"evolution-cms\\/evolution","wdgVisibility":"All","showButton":"AdminOnly","type":"tags","branch":"develop"}';$p['Forgot Manager Login']='require MODX_BASE_PATH.\'assets/plugins/forgotmanagerlogin/plugin.forgotmanagerlogin.php\';';$p['CodeMirror']='/**
 * CodeMirror
 *
 * JavaScript library that can be used to create a relatively pleasant editor interface based on CodeMirror 5.33 (released on 21-12-2017)
 *
 * @category    plugin
 * @version     1.5
 * @license     http://www.gnu.org/copyleft/gpl.html GNU Public License (GPL)
 * @package     evo
 * @internal    @events OnDocFormRender,OnChunkFormRender,OnModFormRender,OnPluginFormRender,OnSnipFormRender,OnTempFormRender,OnRichTextEditorInit
 * @internal    @modx_category Manager and Admin
 * @internal    @properties &theme=Theme;list;default,ambiance,blackboard,cobalt,eclipse,elegant,erlang-dark,lesser-dark,midnight,monokai,neat,night,one-dark,rubyblue,solarized,twilight,vibrant-ink,xq-dark,xq-light;default &darktheme=Dark Theme;list;default,ambiance,blackboard,cobalt,eclipse,elegant,erlang-dark,lesser-dark,midnight,monokai,neat,night,one-dark,rubyblue,solarized,twilight,vibrant-ink,xq-dark,xq-light;one-dark &fontSize=Font-size;list;10,11,12,13,14,15,16,17,18;14 &lineHeight=Line-height;list;1,1.1,1.2,1.3,1.4,1.5;1.3 &indentUnit=Indent unit;int;4 &tabSize=The width of a tab character;int;4 &lineWrapping=lineWrapping;list;true,false;true &matchBrackets=matchBrackets;list;true,false;true &activeLine=activeLine;list;true,false;false &emmet=emmet;list;true,false;true &search=search;list;true,false;false &indentWithTabs=indentWithTabs;list;true,false;true &undoDepth=undoDepth;int;200 &historyEventDelay=historyEventDelay;int;1250
 * @internal    @installset base
 * @reportissues https://github.com/evolution-cms/evolution/issues/
 * @documentation Official docs https://codemirror.net/doc/manual.html
 * @author      hansek from http://www.modxcms.cz
 * @author      update Mihanik71
 * @author      update Deesen
 * @author      update 64j
 * @lastupdate  08-01-2018
 */

$_CM_BASE = \'assets/plugins/codemirror/\';

$_CM_URL = $modx->config[\'site_url\'] . $_CM_BASE;

require(MODX_BASE_PATH. $_CM_BASE .\'codemirror.plugin.php\');';$p['CodeMirrorProps']='{"theme":"default","darktheme":"one-dark","fontSize":"14","lineHeight":"1.3","indentUnit":"4","tabSize":"4","lineWrapping":"true","matchBrackets":"true","activeLine":"false","emmet":"true","search":"false","indentWithTabs":"true","undoDepth":"200","historyEventDelay":"1250"}';$p['ManagerManager']='/**
 * ManagerManager
 *
 * Customize the EVO Manager to offer bespoke admin functions for end users or manipulate the display of document fields in the manager.
 *
 * @category plugin
 * @version 0.6.3
 * @license http://creativecommons.org/licenses/GPL/2.0/ GNU Public License (GPL v2)
 * @internal @properties &remove_deprecated_tv_types_pref=Remove deprecated TV types;list;yes,no;yes &config_chunk=Configuration Chunk;text;mm_rules
 * @internal @events OnDocFormRender,OnDocFormPrerender,OnBeforeDocFormSave,OnDocFormSave,OnDocDuplicate,OnPluginFormRender,OnTVFormRender
 * @internal @modx_category Manager and Admin
 * @internal @installset base
 * @internal @legacy_names Image TV Preview, Show Image TVs
 * @reportissues https://github.com/DivanDesign/MODXEvo.plugin.ManagerManager/
 * @documentation README [+site_url+]assets/plugins/managermanager/readme.html
 * @documentation Official docs http://code.divandesign.biz/modx/managermanager
 * @link        Latest version http://code.divandesign.biz/modx/managermanager
 * @link        Additional tools http://code.divandesign.biz/modx
 * @link        Full changelog http://code.divandesign.biz/modx/managermanager/changelog
 * @author      Inspired by: HideEditor plugin by Timon Reinhard and Gildas; HideManagerFields by Brett @ The Man Can!
 * @author      DivanDesign studio http://www.DivanDesign.biz
 * @author      Nick Crossland http://www.rckt.co.uk
 * @author      Many others
 * @lastupdate  22/01/2018
 */

// Run the main code
include($modx->config[\'base_path\'].\'assets/plugins/managermanager/mm.inc.php\');';$p['ManagerManagerProps']='{"remove_deprecated_tv_types_pref":"yes","config_chunk":"mm_rules"}';$p['HINTx']='if(!isset($hintx_path)) require_once MODX_BASE_PATH.\'assets/plugins/hintx/hintx.php\';';$p['TSVshopNotifier']='$e = &$modx->Event;
switch($e->name){
    case \'OnManagerWelcomeHome\':
		$count = $modx->db->getValue(
			$modx->db->select("COUNT(*)",$modx->getFullTableName(\'shop_order\'),"status=\'Новый\'")
		);
		$module_id = $modx->db->getValue(
			$modx->db->select("id",$modx->getFullTableName(\'site_modules\'),"name=\'TSVshop\'")
		);
		if (!empty($count)){
			$body = \'Новых заказов: <a href="/\'.MGR_DIR.\'/index.php?a=112&id=\'.$module_id.\'">\'.$count.\'</a>\';
		} else {
			$body = \'Новых заказов нет\';
		}
                                
        $widgets[\'neworders\'] = array(
            \'menuindex\' =>\'3\',
            \'id\' => \'neworders\',
            \'cols\' => \'col-sm-12\',
            \'icon\' => \'fa-shopping-bag\',
            \'title\' => \'Новые заказы\',
            \'body\' => \'<div class="card-body">\'.$body.\'</div>\'
        );
	/*$widgets[\'shopstat\'] = array(
            \'menuindex\' =>\'4\',
            \'id\' => \'shopstat\',
            \'cols\' => \'col-sm-6\',
            \'icon\' => \'fa-rss\',
            \'title\' => \'Статистика\',
            \'body\' => \'<div class="card-body">Статистика заказов</div>\'
        );*/
        $e->output(serialize($widgets));
    break;
}';$p['ContactSettings']='/*
ContactSettings
author Nicola Lambathakis (www.tattoocms.it) based on customSettings by Andchir <andchir@gmaail.com>

/*
&settings=Settings;textarea;Site owner~site_owner||Site e-mail~site_mail||Site Copyright~site_copyright||Company name~company_name||Company IVA/VAT~company_iva||Company e-mail~company_mail||Company Phone~company_phone||Company Fax~company_fax||Company address~company_address||Icq~chat_icq||Msn~chat_msn||Facebook~social_facebook||Twitter~social_twitter||Googleplus~social_googleplus||Youtube~social_youtube||Linkedin~social_linkedin  &pname=title;text;
*/



$e = &$modx->Event;
$output = "";
if ($e->name == \'OnSiteSettingsRender\'){
$settingsArr = !empty($settings) ? explode(\'||\',$settings) : array(\'Example custom setting~custom_st_example\');
$fname = !empty($pname) ? $pname : \'Contact Settings\';
$output .= \'</td></tr></table></div><div style="display: block;" class="tab-page" id="tabPage8"><h2 class="tab">\'.$fname.\'</h2><script type="text/javascript">tpSettings.addTabPage( document.getElementById( "tabPage8" ) );</script><table border="0" cellpadding="3" cellspacing="0"><tbody>\';
foreach($settingsArr as $key => $st_row){
    $st_label_arr = explode(\'~\',$st_row);
    $custom_st_label = trim($st_label_arr[0]);
    $custom_st_name = isset($st_label_arr[1]) ? $st_label_arr[1] : \'custom_st\';
    $custom_st_value = isset($st_label_arr[1]) && isset($modx->config[$st_label_arr[1]]) ? trim($modx->config[$st_label_arr[1]]) : \'\';
 $output .= \'<tr><td class="warning" nowrap="">\'.$custom_st_label.\'</td>
        <td><input type="text" value="\'.$custom_st_value.\'" name="\'.$custom_st_name.\'" style="width: 350px;" onchange="documentDirty=true;" /></td><td>placeholder: [(\'.$custom_st_name.\')]</td></tr><tr><td colspan="2"><div class="split"/></td></tr>\';
}
$output .= \'</tbody></table>\';
}
$e->output($output);';$p['ContactSettingsProps']='{"settings":"Site owner~site_owner||Site e-mail~site_mail||Site Copyright~site_copyright||Company name~company_name||Company IVA\\/VAT~company_iva||Company e-mail~company_mail||Company Phone~company_phone||Company Fax~company_fax||Company address~company_address||Icq~chat_icq||Msn~chat_msn||Facebook~social_facebook||Twitter~social_twitter||Googleplus~social_googleplus||Youtube~social_youtube||Linkedin~social_linkedin"}';$p['TSVсlearCache']='if(!function_exists("TSVclearCache"))
{
    function TSVclearCache($dir) {
	if ($objs = glob($dir."/*")) {
		foreach($objs as $obj) {
			is_dir($obj) ? TSVclearCache($obj) : unlink($obj);
		}
	}
	rmdir($dir);
    }
}

global $modx;
$e=&$modx->Event;
$action=$e->params["action"];
if ($action==26 || $e->name == \'OnCacheUpdate\') {
	$dir=MODX_BASE_PATH.\'assets/cache/t/\';
  if (file_exists($dir)) {
	    TSVclearCache($dir);
  }
}

if ($e->name == \'TSVshopOnViewItemCard\') { 
  // плагин получает
  // $itemid  - ID товара
  // $type - тип товара: docs - документ MODx, catalog - из каталога TSVcatalog
}';$p['ManagerColors']='/*
### ManagerColors Plugin for Evolution CMS 1.4 ###
Customize Default EVO Manager theme colors
Written By Nicola Lambathakis http://www.tattoocms.it/
Version 3.1.9 RC
Events: OnManagerLoginFormPrerender,OnManagerMainFrameHeaderHTMLBlock,OnManagerTopPrerender

Default configuration:
&plgVisibility=Run for:;menu;All,AdminOnly,AdminExcluded,ThisRoleOnly,ThisUserOnly;All &ThisRole=Run only for this role:;string;;;(role id) &ThisUser=Run only for this user:;string;;;(username) &PrimaryColor=Main Theme Color:;string;#0e80cb;;Theme Primary Color (mandatory) &NavBgColor= Top Nav Background color:;string;;;(optional) &NavLinkColor= Top Nav link color :;string;#e5eef5;;(optional) &NavLinkHColor= Top Nav link hover color:;string;#fff;;(optional) &NavDropBgHColor= Top Nav dropdown hover bg color:;string;;;(optional) &TLinkColor=Tree Menu Links Color:;string;;;Published resources and ElementsInTree element names (optional) &TDarkLinkColor=Dark Tree Menu Links Color:;string;;;Published resources and ElementsInTree element names (optional) &CustomNavStyle=Custom Navigation and Tree styles chunk:;string;;;chunk name &MainLinkColor=Main Links Color:;string;;;(optional) &buttonsColor=Colored action buttons:;menu;yes,no;yes;;Add background color to duplicate delete and cancel buttons &CustomMainStyle=Custom Main Frame styles chunk:;string;;;chunk name  &LoginBgColor= Login Page Background color:;string;;;overwrite both dark and light backgrounds (optional) &LoginBgImage= Login Page Background image:;string;;;ie: ../assets/images/login/rainbow.jpg (optional) &coollogin=Semi-Transparent login form:;menu;yes,no;no;;Custom login form with alpha background &ShowLoginLogo=Show Login Logo:;menu;show,hide;show;;Hide EVO logo in login page &CustomLogoPath=Custom Logo path:;string;;;enter the url of your company logo &CustomLoginStyle=Custom Login styles chunk:;string;;;chunk name 

*/


// Run the main code
include($modx->config[\'base_path\'].\'assets/plugins/managercolors/mancolors.php\');';$p['ManagerColorsProps']='{"plgVisibility":"All","PrimaryColor":"#0e80cb","NavLinkColor":"#e5eef5","NavLinkHColor":"#fff","buttonsColor":"yes","coollogin":"no","ShowLoginLogo":"show"}';$p['Flat-SystemSettings-Render']='global $modx;
$manager_theme = $modx->config[\'manager_theme\'];

if($manager_theme == "EvoFLAT") {
if($modx->config[\'flt_show_evo_logo\'] == "0") {
$hideLogo =\'
#mainMenu #bars:after{display:none!important;}
#mainMenu #bars{ margin-right: 0px!important; }\';
}
if($modx->config[\'flt_show_login_logo\'] == "0") {
$hideLoginLogo = \'img#logo {display:none;}\'; 
}
if($modx->config[\'flt_show_loader\'] == "0") {
$hideLoader = \'#mainloader{display:none !important;}\'; 
}
if ($modx->config[\'flt_login_clogo\'] !== null) {
$logocustom = \'<a class="logo" href="../" title="\'.$sitename.\'">
					<img src="../\'.$modx->config[\'flt_login_clogo\'].\'" alt="\'.$sitename.\'" id="logocustom" />
				</a>\';
}
if ($modx->config[\'flt_custom_head_styles\'] !== null) {
$custom_head_styles = $modx->config[\'flt_custom_head_styles\'];
}
if ($modx->config[\'flt_custom_login_styles\'] !== null) {
$custom_login_styles = $modx->config[\'flt_custom_login_styles\'];
}
//vars
if($modx->config[\'flt_main-color\'] !== \'\') { 
$main_color = \'--main-color:\'.$modx->config[\'flt_main-color\'].\';
\'; 
} else { $main_color = \'\'; }	

if($modx->config[\'flt_main-menu-color\'] !== \'\' ) { 
$menu_color = \'--main-menu-color:\'.$modx->config[\'flt_main-menu-color\'].\';\'; 
} 
else
if($modx->config[\'flt_main-menu-color\'] == \'\' && $modx->config[\'flt_main-color\'] !== \'\') { 
$menu_color = \'--main-menu-color:\'.$modx->config[\'flt_main-color\'].\';\'; 
}
else { $menu_color = \'\'; }
	
//treee
if($modx->config[\'flt_item-tree-color\'] !== \'\') { 
$tree_color = \'--item-tree-color:\'.$modx->config[\'flt_item-tree-color\'].\';
\'; 
} else { $tree_color = \'\'; }
	
if($modx->config[\'flt_dark-item-tree-color\'] !== \'\') { 
$tree_dark_color = \'--dark-item-tree-color:\'.$modx->config[\'flt_dark-item-tree-color\'].\';
\'; 
} else { $tree_dark_color = \'\'; }
	
//tabs	
if($modx->config[\'flt_selected-tabs-color\'] !== \'\') { 
$light_tabs = \'--selected-tabs-color:\'.$modx->config[\'flt_selected-tabs-color\'].\';
\'; 
}
else
if($modx->config[\'flt_selected-tabs-color\'] == \'\' && $modx->config[\'flt_main-color\'] !== \'\') { 
$light_tabs = \'--selected-tabs-color:\'.$modx->config[\'flt_main-color\'].\';\'; 
}
else { $light_tabs = \'\'; }
	
if($modx->config[\'flt_dark-selected-tabs-color\'] !== \'\') { 
$dark_tabs = \'--dark-selected-tabs-color:\'.$modx->config[\'flt_dark-selected-tabs-color\'].\';
\'; 
}
else
if($modx->config[\'flt_dark-selected-tabs-color\'] == \'\' && $modx->config[\'flt_main-color\'] !== \'\') { 
$dark_tabs = \'--dark-selected-tabs-color:\'.$modx->config[\'flt_main-color\'].\';\'; 
}
else { $dark_tabs = \'\'; }
	
//Links
if($modx->config[\'flt_links-color\'] !== \'\') { 
$links_color = \'--links-color:\'.$modx->config[\'flt_links-color\'].\';
\'; 
} else { $links_color = \'\'; }
	
if($modx->config[\'flt_links-hover-color\'] !== \'\') { 
$links_hover_color = \'--links-hover-color:\'.$modx->config[\'flt_links-hover-color\'].\';
\'; 
} else { $links_hover_color = \'\'; }

if($modx->config[\'flt_dark-links-hover-color\'] !== \'\') { 
$dark_links_hover_color = \'--dark-links-hover-color:\'.$modx->config[\'flt_dark-links-hover-color\'].\';
\'; 
} else { $dark_links_hover_color = \'\'; }

//fonts
if($modx->config[\'flt_main_font\'] !== \'\') { 
$gfont = explode(":", $modx->config[\'flt_main_font\']);
$googlefont = str_replace("+", " ", $gfont[0]);
$main_font = \'--main-font:\'.$googlefont.\';\';  
$importFont =\'<link href="https://fonts.googleapis.com/css?family=\'.$modx->config[\'flt_main_font\'].\'" rel="stylesheet">\';
} else { $main_font = \'\'; }
if($modx->config[\'flt_main_font_size\'] == \'\' or $modx->config[\'flt_main_font_size\'] == null)
{ $main_font_size = \'--main-font-size: 0.8125rem\'; }
else { 
$main_font_size = \'--main-font-size:\'.$modx->config[\'flt_main_font_size\'].\'rem;\'; 
} 

if($modx->config[\'flt_menu_font_size\'] == \'\' or $modx->config[\'flt_menu_font_size\'] == null)
{ $menu_font_size = \'--main-menu-font-size: 0.9rem\'; }
else { 
$menu_font_size = \'--main-menu-font-size:\'.$modx->config[\'flt_menu_font_size\'].\'rem;\'; 
} 

if($modx->config[\'flt_dark_side\'] == \'1\' ) { 
$dark_side = \'<script>
$(document).ready(function(){
var body = document.getElementsByTagName(\\\'body\\\')[0];
body.classList.add(\\\'darkSide\\\');
});
</script>\'; 
} 
//end vars
$e = &$modx->Event;
switch($e->name) {
case \'OnManagerTopPrerender\':	
$MainFlatSettingsOutput = \'
<!--- OnManagerTopPrerender --->
\'.$dark_side.\'
\'.$importFont.\'
<style>
body {
  \'.$links_color.\'
  \'.$links_hover_color.\'
  \'.$dark_links_hover_color.\'
  \'.$main_font.\'
  \'.$main_font_size.\'
  \'.$menu_color.\'
  \'.$menu_font_size.\'
  \'.$main_color.\'
/* tree */
  \'.$tree_color.\'
  \'.$tree_dark_color.\'
  /* tabs */
  \'.$light_tabs.\'
  \'.$dark_tabs.\'
  }
\'.$hideLogo.\' 
\'.$hideLoader.\'
\'.$custom_head_styles.\'
</style>
\';
break;
case \'OnManagerMainFrameHeaderHTMLBlock\':
$MainFlatSettingsOutput = \'
<!--- OnManagerMainFrameHeaderHTMLBlock --->
\'.$importFont.\'
<style>
body {
  \'.$links_color.\'
  \'.$links_hover_color.\'
  \'.$dark_links_hover_color.\'
  \'.$main_font.\'
  \'.$main_font_size.\'
  \'.$menu_color.\'
  \'.$main_color.\'
/* tree */
  \'.$tree_color.\'
  \'.$tree_dark_color.\'
 /* tabs */
  \'.$light_tabs.\'
  \'.$dark_tabs.\'
  }
\'.$custom_head_styles.\'
</style>
\';
break;

case \'OnManagerLoginFormPrerender\':
if ($modx->config[\'flt_login_bgimage\'] == null || $modx->config[\'flt_login_bgimage\'] == \'\') {
$Login_BgI = \'\';
}  else {
$Login_BgI = \' 
body div.page, body.dark div.page{background: url("../\'.$modx->config[\'flt_login_bgimage\'].\'") no-repeat center center fixed; 
      -webkit-background-size: cover;
      -moz-background-size: cover;
      -o-background-size: cover;
      background-size: cover;}\';
} 
$LoginFlatSettingsOutput = \'
\'.$importFont.\'
<style>
body {
  \'.$main_font.\'
  \'.$main_font_size.\'
  \'.$menu_color.\'
  \'.$main_color.\'
  }
\'.$hideLoginLogo.\'
\'.$Login_BgI.\'
\'.$custom_login_styles.\'
</style>
\'.$logocustom.\'
\';
    break;
}
$e->output($MainFlatSettingsOutput.$LoginFlatSettingsOutput);
return;
}';$p['Flat-SystemSettings']='// get language
global $_lang;
$manager_theme = $modx->config[\'manager_theme\'];
if($manager_theme == "EvoFLAT") {
$version = \'1.2\';
$e = &$modx->Event;
$output = "";
$settings=\'EvoFLAT Theme Main Color~flt_main-color||Menu Color~flt_main-menu-color||Item Tree Color~flt_item-tree-color||Dark Item Tree Color~flt_dark-item-tree-color||Selected tab color~flt_selected-tabs-color||Dark selected tabs color~flt_dark-selected-tabs-color||Links color~flt_links-color||Links hover color~flt_links-hover-color||Dark links hover color~flt_dark-links-hover-color\';
if ($e->name == \'OnMiscSettingsRender\'){
$settingsArr = !empty($settings) ? explode(\'||\',$settings) : array(\'Example custom setting~custom_st_example\');
$tabname = !empty($pname) ? $pname : \'EvoFlat Theme\';
$output .= \'</td></tr></table></div>\';
$output .= \'
<style>
.hidden {display:none;}
table.themeSettings {width:98%; margin:auto;}
table.themeSettings th{height:20px}
.displaytextsize, .displaymenusize {display:inline-block;vertical-align:top;padding: -4px 0 3px 8px ; margin-left:8px;}
.pull-right {display:block;float:right;}
</style>
<script type="text/javascript">
					var lastImageCtrl;
    				var lastFileCtrl;
					function OpenServerBrowser(url, width, height) {
						var iLeft = (screen.width - width) / 2;
						var iTop = (screen.height - height) / 2;
						var sOptions = "toolbar=no,status=no,resizable=yes,dependent=yes";
						sOptions += ",width=" + width;
						sOptions += ",height=" + height;
						sOptions += ",left=" + iLeft;
						sOptions += ",top=" + iTop;
						var oWindow = window.open(url, "FCKBrowseWindow", sOptions);
					}
					function BrowseServer(ctrl) {
						lastImageCtrl = ctrl;
						var w = screen.width * 0.7;
						var h = screen.height * 0.7;
						OpenServerBrowser("\'.$modx->config[\'MODX_MANAGER_URL\'].\'media/browser/\'.$modx->config[\'which_browser\'].\'/browser.php?Type=images", w, h);
					}
						
						function BrowseFileServer(ctrl) {
							lastFileCtrl = ctrl;
							var w = screen.width * 0.7;
							var h = screen.height * 0.7;
							OpenServerBrowser("\'.$modx->config[\'MODX_MANAGER_URL\'].\'media/browser/\'.$modx->config[\'which_browser\'].\'/browser.php?Type=files", w, h);
						}
						
						function SetUrl(url, width, height, alt){
        					if(lastFileCtrl) {
        					var c = document.getElementById(lastFileCtrl);
        					if(c) c.value = url;
        					lastFileCtrl = \\\'\\\';
        					} else if(lastImageCtrl) {
        					var c = document.getElementById(lastImageCtrl);
       						if(c) c.value = url;
        					lastImageCtrl = \\\'\\\';
        					} else {
        					return;
        					}
    						}
							</script>\';

$output .= \'<div style="display: block;" class="tab-page" id="tabPage4b"><h2 class="tab"><i class="fa fa-paint-brush" aria-hidden="true"></i> \'.$tabname.\' </h2><script type="text/javascript">tpSettings.addTabPage( document.getElementById( "tabPage4b" ) );</script>\';
$output .= \'<div class="tab-pane" id="tab-pane-1"><div class="tab-page"><h2 class="tab"><i class="fa fa-paint-brush" aria-hidden="true"></i> Colors</h2>\';
$output .= \'<table class="themeSettings" border="0" cellpadding="3" cellspacing="0"><thead><th width="25%"></th><th></th></thead><tbody>\';
foreach($settingsArr as $key => $st_row){
    $st_label_arr = explode(\'~\',$st_row);
    $custom_st_label = trim($st_label_arr[0]);
    $custom_st_name = isset($st_label_arr[1]) ? $st_label_arr[1] : \'custom_st\';
    $custom_st_value = isset($st_label_arr[1]) && isset($modx->config[$st_label_arr[1]]) ? trim($modx->config[$st_label_arr[1]]) : \'\';
    $output .= \'<tr><td class="warning" nowrap="">\'.htmlspecialchars($custom_st_label).\' <br/><small>[(\'.$custom_st_name.\')]  <span class="text-muted">saved color: \'.$custom_st_value.\'</span></small></td>
        <td><input class="setting_color" id="\'.$custom_st_name.\'" type="text" class="startEmpty" value="\'.$custom_st_value.\'" name="\'.$custom_st_name.\'" onchange="documentDirty=true;"></td></tr><tr><td colspan="2"><div class="split"/></td></tr>\';
}
$output .= \'</tbody></table></div>\';
if ($modx->config[\'flt_dark_side\'] == \'0\' or $modx->config[\'flt_dark_side\'] == \'\') {
$yes_dark_side = \'\';
$no_dark_side = \'checked="checked"\';
}
else
 {
$yes_dark_side = \'checked="checked"\';
$no_dark_side = \'\';
}
	
if ($modx->config[\'flt_show_evo_logo\'] == \'1\' or $modx->config[\'flt_show_evo_logo\'] == \'\') {
$yes_show_logo = \'checked="checked"\';
$no_show_logo = \'\';
}
else
 {
$yes_show_logo = \'\';
$no_show_logo = \'checked="checked"\';
}
if ($modx->config[\'flt_show_login_logo\'] == \'1\' or $modx->config[\'flt_show_login_logo\'] == \'\') {
$yes_show_Loginlogo = \'checked="checked"\';
$no_show_Loginlogo = \'\';
}
else
 {
$yes_show_Loginlogo = \'\';
$no_show_Loginlogo = \'checked="checked"\';
}
if ($modx->config[\'flt_login_clogo\'] == \'\') {
$displayLogoClass = \'hidden\';
}
if ($modx->config[\'flt_login_bgimage\'] == \'\') {
$displayBGClass = \'hidden\';
}
if ($modx->config[\'flt_show_loader\'] == \'1\' or $modx->config[\'flt_show_loader\'] == \'\') {
$yes_show_loader = \'checked="checked"\';
$no_show_loader = \'\';
}
else
 {
$yes_show_loader = \'\';
$no_show_loader = \'checked="checked"\';
}	
if ($modx->config[\'flt_main_font_size\'] == \'\' || $modx->config[\'flt_main_font_size\'] == null) {
$main_font_val = \'0.8125\';
}
else
 {
$main_font_val = ($modx->config[\'flt_main_font_size\']);
}
	
if ($modx->config[\'flt_menu_font_size\'] == \'\'|| $modx->config[\'flt_menu_font_size\'] == null) {
$menu_font_val = \'0.9\';
}
else
 {
$menu_font_val = ($modx->config[\'flt_menu_font_size\']);
}
	
$output .= \'<div class="tab-page"><h2 class="tab"><i class="fa fa-font" aria-hidden="true"></i> Fonts</h2>\';
$output .= \'<table class="themeSettings" border="0" cellpadding="3" cellspacing="0"><thead><th width="25%"></th><th></th></thead><tbody>\';
$output .= \'<tr>
            <td nowrap class="warning">Font Family<br>
                <small>[(flt_main_font)] <span class="text-muted">Saved Font: \'.htmlspecialchars($modx->config[\'flt_main_font\']).\'</span></small>
            </td>
            <td>
                <label><input id="flt_main_font" name="flt_main_font" type="text" value="\'.htmlspecialchars($modx->config[\'flt_main_font\']).\'" onchange="documentDirty=true;"></label>
            </td>
        </tr>
        <tr>
            <td width="200">&nbsp;</td>
            <td class="comment gfonttype">Change default Manager font and use Google Fonts in EvoFLAT</td>
        </tr>
        <tr><td colspan="2"><div class="split"/></td></tr>
		\';
$output .= \'<tr>
            <td nowrap class="warning">Font Size<br>
                <small>[(flt_main_font_size)] <span class="text-muted">Saved Size: \'.$main_font_val.\'</span></small>
            </td>
            <td>
                <label><input class="rangeMainFonts" type="range" min="0.8125" value="\'.$main_font_val.\'" max="1.2" step="0.0001" id="flt_main_font_size" name="flt_main_font_size"  onchange="documentDirty=true;"></label><span class="displaytextsize">\'.htmlspecialchars($modx->config[\'flt_main_font_size\']).\'rem</span>
            </td>
        </tr>
        <tr>
            <td width="200">&nbsp;</td>
            <td class="comment gfontsize">Change the Font Size in EvoFLAT</td>
        </tr>
        <tr><td colspan="2"><div class="split"/></td></tr>
		\';
$output .= \'<tr>
            <td nowrap class="warning">Menu Font Size<br>
                <small>[(flt_menu_font_size)] <span class="text-muted">Saved Size: \'.$menu_font_val.\'</span></small>
            </td>
            <td>
                <label><input class="rangeMenuFonts" type="range" min="0.9" value="\'.$menu_font_val.\'" max="2.8" step="0.0001" id="flt_menu_font_size" name="flt_menu_font_size" onchange="documentDirty=true;"></label><span class="displaymenusize">\'.htmlspecialchars($modx->config[\'flt_menu_font_size\']).\'rem</span>
            </td>
        </tr>
        <tr>
            <td width="200">&nbsp;</td>
            <td class="comment mfontsize">Change the Menu Font Size (optional)</td>
        </tr>
        <tr><td colspan="2"><div class="split"/></td></tr>
		\';
$output .= \'</tbody></table></div>\';	
$output .= \'<div class="tab-page"><h2 class="tab"><i class="fa fa-sliders" aria-hidden="true"></i> Advanced Settings</h2>\';
$output .= \'<table class="themeSettings" border="0" cellpadding="3" cellspacing="0"><thead><th width="25%"></th><th></th></thead><tbody>\';
$output .= \'<tr>
            <td nowrap class="warning">Dark Sidebar<br>
                <small>[(flt_dark_side)]</small>
            </td>
            <td>
                <label><input type="radio" name="flt_dark_side" value="1" \'.$yes_dark_side.\' />
                    \'.$_lang[\'yes\'].\'</label>
                <br />
                <label><input type="radio" name="flt_dark_side" value="0" \'.$no_dark_side.\' />
                    \'.$_lang[\'no\'].\'
                </label>
            </td>
        </tr>
        <tr>
            <td width="200">&nbsp;</td>
            <td class="comment">Always show Dark Sidebar</td>
        </tr>
        <tr><td colspan="2"><div class="split"/></td></tr>
		\';
$output .= \'<tr>
            <td nowrap class="warning">Show Header Logo<br>
                <small>[(flt_show_evo_logo)]</small>
            </td>
            <td>
                <label><input type="radio" name="flt_show_evo_logo" value="1" \'.$yes_show_logo.\' />
                    \'.$_lang[\'yes\'].\'</label>
                <br />
                <label><input type="radio" name="flt_show_evo_logo" value="0" \'.$no_show_logo.\' />
                    \'.$_lang[\'no\'].\'
                </label>
            </td>
        </tr>
        <tr>
            <td width="200">&nbsp;</td>
            <td class="comment">Show EVO Header Menu Logo</td>
        </tr>
        <tr><td colspan="2"><div class="split"/></td></tr>
		\';
$output .= \'<tr>
            <td nowrap class="warning">Show Login Logo<br>
                <small>[(flt_show_login_logo)]</small>
            </td>
            <td>
                <label><input type="radio" name="flt_show_login_logo" value="1" \'.$yes_show_Loginlogo.\' />
                    \'.$_lang[\'yes\'].\'</label>
                <br />
                <label><input type="radio" name="flt_show_login_logo" value="0" \'.$no_show_Loginlogo.\' />
                    \'.$_lang[\'no\'].\'
                </label>
            </td>
        </tr>
        <tr>
            <td width="200">&nbsp;</td>
            <td class="comment">Show EVO Logo in the Login form</td>
        </tr>
        <tr><td colspan="2"><div class="split"/></td></tr>\';
$output .= \'<tr>
            <td nowrap class="warning">Custom Login Logo<br>
                <small>[(flt_login_clogo)]</small>
            </td>
            <td>
                <input id="flt_login_clogo" maxlength="255" style="width: 250px;" name="flt_login_clogo" value="\'.htmlspecialchars($modx->config[\'flt_login_clogo\']).\'" onchange="documentDirty=true;" type="text"><input type="button" value="Insert" onclick="BrowseServer(\\\'flt_login_clogo\\\')"">
		            </td>
        				</tr>
					<tr>
						<td></td><td align="left"><img class="\'.$displayLogoClass.\'" name="flt_login_clogo" width="150" src="\'.MODX_SITE_URL. $modx->config[\'flt_login_clogo\'].\'" /></td>
					</tr>
       		 <tr>
            <td width="200">&nbsp;</td>
            <td class="comment">Add Brand Logo to the Login page</td>
        </tr>
        <tr><td colspan="2"><div class="split"/></td></tr>\';
$output .= \'<tr>
            <td nowrap class="warning">Login Background Image<br>
                <small>[(flt_login_bgimage)]</small>
            </td>
            <td>
                <input id="flt_login_bgimage" maxlength="255" style="width: 250px;" name="flt_login_bgimage" value="\'.htmlspecialchars($modx->config[\'flt_login_bgimage\']).\'" onchange="documentDirty=true;" type="text"><input type="button" value="Insert" onclick="BrowseServer(\\\'flt_login_bgimage\\\')"">
		            </td>
        </tr>
		<tr>
						<td></td><td align="left"><img class="\'.$displayBGClass.\'" name="flt_login_bgimage" width="150" src="\'.MODX_SITE_URL. $modx->config[\'flt_login_bgimage\'].\'" /></td>
					</tr>
        <tr>
            <td width="200">&nbsp;</td>
            <td class="comment">Add Background Image to the Login page</td>
        </tr>
        <tr><td colspan="2"><div class="split"/></td></tr>\';
$output .= \'<tr>
            <td nowrap class="warning">Show Preloader<br>
                <small>[(flt_show_loader)]</small>
            </td>
            <td>
                <label><input type="radio" name="flt_show_loader" value="1" \'.$yes_show_loader.\' />
                    \'.$_lang[\'yes\'].\'</label>
                <br />
                <label><input type="radio" name="flt_show_loader" value="0" \'.$no_show_loader.\' />
                    \'.$_lang[\'no\'].\'
                </label>
            </td>
        </tr>
        <tr>
            <td width="200">&nbsp;</td>
            <td class="comment">Show Preloader animation</td>
        </tr>
        <tr><td colspan="2"><div class="split"/></td></tr>
		\';
$output .= \'</tbody></table></div>\';
$output .= \'<div class="tab-page"><h2 class="tab"><i class="fa fa-css3" aria-hidden="true"></i> Custom Styles</h2>\';
$output .= \'<table class="themeSettings" border="0" cellpadding="3" cellspacing="0"><thead><th width="25%"></th><th></th></thead><tbody>\';
$output .= \'<tr>
            <td nowrap class="warning">Custom Manager styles<br>
                <small>[(flt_custom_head_styles)]</small>
            </td>
            <td>
                <textarea rows="10" id="flt_custom_head_styles" name="flt_custom_head_styles">\'.$modx->config[\'flt_custom_head_styles\'].\'</textarea>
		            </td>
        </tr>
		
        <tr>
            <td width="200">&nbsp;</td>
            <td class="comment">Add your custom styles to change EvoFlat Manager appearance </td>
        </tr>
        <tr><td colspan="2"><div class="split"/></td></tr>\';
$output .= \'<tr>
            <td nowrap class="warning">Custom Login styles<br>
                <small>[(flt_custom_login_styles)]</small>
            </td>
            <td>
                <textarea rows="10" id="flt_custom_login_styles" name="flt_custom_login_styles">\'.$modx->config[\'flt_custom_login_styles\'].\'</textarea>
		            </td>
        </tr>
		
        <tr>
            <td width="200">&nbsp;</td>
            <td class="comment">Add your custom styles to change EvoFlat Login page appearance </td>
        </tr>
        <tr><td colspan="2"><div class="split"/></td></tr>\';
$output .= \'</tbody></table></div></div>
<div class="pull-right" style="margin-right:12px;">
<span class="text-muted small"><i class="fa fa-paint-brush"></i> EvoFLAT Settings v.\'.$version.\'</span>
  </div>\';
$cssOutput .=\'
<link rel="stylesheet" type="text/css" href="../assets/plugins/flatsystem/fontselect/styles/fontselect-alternate.css" />
<link rel="stylesheet" href="media/style/common/spectrum/spectrum.css" />
<link rel="stylesheet" type="text/css" href="media/style/\'.$modx->config[\'manager_theme\'].\'/css/color.switcher.css" />
<script src="../assets/plugins/flatsystem/fontselect/jquery.fontselect.js"></script>
<script src="media/script/spectrum/spectrum.evo.min.js" type="text/javascript"></script>
<script>
jQuery(document).ready(function($) {
$(\\\'.setting_color\\\').spectrum({
 containerClassName: \\\'bgmPicker\\\',
 cancelText: "CANCEL",
 chooseText: "CHOOSE",
 preferredFormat: "hex3",
 showPalette: true,
 showInitial: true,
 showInput: true,
 showSelectionPalette: true, // true by default
 allowEmpty: true,
 palette: [
        ["#0e80cb", "#0275d8", "#1792fd", "#272c33", "#3c434e", "#383f48", "#404040", "#DFDFDF", "#FAFAFA", "#fff"],
 	    ["#741B47","#134F5C","#16A085","#8E44AD","#34495E","#D35400","#C0392B","#b45f06","#351c75","#007C49"]
    ]
});
      $(function(){
        $(\\\'#flt_main_font\\\').fontselect().change(function(){
         documentDirty=true;
          // replace + signs with spaces for css
          var font = $(this).val().replace(/\\+/g, \\\' \\\');
          
          // split font into family and weight
          font = font.split(\\\':\\\');
          
          // set family on description 
          $(\\\'.gfonttype\\\').css(\\\'font-family\\\', font[0]);
		  $(\\\'.gfontsize\\\').css(\\\'font-family\\\', font[0]);
		  $(\\\'.mfontsize\\\').css(\\\'font-family\\\', font[0]);
        });
      });
	$(\\\'input.rangeMainFonts\\\').on(\\\'change\\\', function () {
    var v = $(this).val();
	$(\\\'.gfontsize\\\').css(\\\'font-size\\\', v + \\\'rem\\\')
	$(\\\'.gfonttype\\\').css(\\\'font-size\\\', v + \\\'rem\\\')
    $(\\\'.displaytextsize\\\').html(v + \\\'rem\\\');
});

	$(\\\'input.rangeMenuFonts\\\').on(\\\'change\\\', function () {
    var v = $(this).val();
	$(\\\'.mfontsize\\\').css(\\\'font-size\\\', v + \\\'rem\\\')
    $(\\\'.displaymenusize\\\').html(v + \\\'rem\\\');
});
});
</script>\';
}
$e->output($cssOutput.$output);
}';$p['Flat-SystemSettingsProps']='{"pname":"EvoFlat Theme"}';$p['MODX.Evolution.updateNotify']='require MODX_BASE_PATH.\'assets/plugins/modxupdater/plugin.modxupdater.php\';';$p['MODX.Evolution.updateNotifyProps']='{"showButton":"AdminOnly","version":"auto","type":"tags"}';$p['evoAjax']='switch($_GET[\'q\']){     
	case \'feedbackajaxform\':
		echo $modx->runSnippet(\'FormLister\', array(
			\'formid\' => \'ContactForm\',
			\'to\' => $modx->config[\'emailsender\'],
			\'parseMailerParams\'=> \'1\',
			\'replyTo\'=> \'@CODE:[+user.email.value+]\',
			\'subjectTpl\' => \'@CODE:[+subject.value+], from: \' . $modx->config[\'site_name\'] ,
			\'ccSender\'=>\'1\',
			\'errorClass\'=> \' has-error\',
			\'requiredClass\'=> \' has-warning\',
			\'rules\'=> \'{
               	"name":{
               		"required":"Enter your Name"
               	},
               	"email":{
               		"required":"Enter email",
               		"email":"Incorrect email"
               	},
               	"message":{
                	"required":"Enter message"
                }
            }\',
			\'formControls\'=>\'subject\',
			\'messagesTpl\' => \'@CODE:<div class="form-messages alert alert-danger">[+required+]<br>[+errors+]</div>\',
            \'errorTpl\'=>\'@CODE: [+message+]\',
            \'successTpl\'=> \'@CODE: 
             	<div class="alert alert-success mt-3">
                 	<h3>Thanks!</h3>
                 	<p>your message has been sent.</p>
             	</div>\',
            \'formTpl\' => \'ContactForm\', 
			\'reportTpl\'=>\'ContactFormReport\',
            \'ccSenderTpl\'=>\'ContactFormReport\',	
			));
			die();
        break;
}';$e=&$this->pluginEvent;$e['OnBeforeDocFormSave']=array('ManagerManager');$e['OnBeforeManagerLogin']=array('Forgot Manager Login');$e['OnBeforePluginFormSave']=array('FileSource');$e['OnBeforeSnipFormSave']=array('FileSource');$e['OnCacheUpdate']=array('TSVсlearCache');$e['OnChunkFormRender']=array('HINTx','CodeMirror');$e['OnDocDuplicate']=array('ManagerManager');$e['OnDocFormPrerender']=array('ManagerManager');$e['OnDocFormRender']=array('CodeMirror','ManagerManager');$e['OnDocFormSave']=array('ManagerManager');$e['OnInterfaceSettingsRender']=array('TinyMCE4');$e['OnLoadWebDocument']=array('TinyMCE4');$e['OnLoadWebPageCache']=array('TinyMCE4');$e['OnManagerAuthentication']=array('Forgot Manager Login');$e['OnManagerLoginFormPrerender']=array('Flat-SystemSettings-Render','ManagerColors');$e['OnManagerLoginFormRender']=array('Forgot Manager Login');$e['OnManagerMainFrameHeaderHTMLBlock']=array('ManagerColors','Flat-SystemSettings-Render');$e['OnManagerPageInit']=array('TSVсlearCache');$e['OnManagerTopPrerender']=array('Flat-SystemSettings-Render','ManagerColors');$e['OnManagerWelcomeHome']=array('OutdatedExtrasCheck','Updater','TSVshopNotifier','MODX.Evolution.updateNotify');$e['OnManagerWelcomePrerender']=array('MODX.Evolution.updateNotify');$e['OnMiscSettingsRender']=array('Flat-SystemSettings');$e['OnModFormRender']=array('CodeMirror');$e['OnPageNotFound']=array('MODX.Evolution.updateNotify','Updater','evoAjax');$e['OnParseDocument']=array('TinyMCE4');$e['OnPluginFormPrerender']=array('FileSource');$e['OnPluginFormRender']=array('FileSource','ManagerManager','CodeMirror');$e['OnRichTextEditorInit']=array('CodeMirror','TinyMCE4');$e['OnRichTextEditorRegister']=array('TinyMCE4');$e['OnSiteRefresh']=array('Updater','MODX.Evolution.updateNotify');$e['OnSiteSettingsRender']=array('ContactSettings');$e['OnSnipFormPrerender']=array('FileSource');$e['OnSnipFormRender']=array('CodeMirror','FileSource');$e['OnStripAlias']=array('TransAlias');$e['OnTempFormRender']=array('CodeMirror');$e['OnTVFormRender']=array('ManagerManager');$e['OnWebPagePrerender']=array('TinyMCE4');$e['TSVshopOnViewItemCard']=array('TSVсlearCache');
